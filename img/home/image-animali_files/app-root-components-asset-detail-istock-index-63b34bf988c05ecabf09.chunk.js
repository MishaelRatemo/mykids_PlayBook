"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9760],{94248:function(e,t){var n={adpViewed:function(e,t){e.isFilm&&t&&this.filmSizes(t.options),$(document).safeReady((function(){return combinedGtmTracking.gtmPushTracking("adpView")}))},categoriesLink:function(e){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_Category_Link_Click",adp_selection:e})},filmSizes:function(e){if(!Array.isArray(e)||!e.first()||!Array.isArray(e.first().sizes))return null;var t=e.first().sizes.map((function(e){return e.name}));tracking_data.asset_details.available_sizes=this.shownFilmSizes(t)},shownFilmSizes:function(e){return Array.isArray(tracking_data.asset_details.available_sizes)?tracking_data.asset_details.available_sizes.reduce((function(t,n){return e.includes(n.name)&&(n.teeShirtSize=n.definition+"_"+n.compression,t.push(n)),t}),[]):[]},singleDownload:function(e,t){return e&&(tracking_data.payment_source=e),t&&(tracking_data.extended_licenses=t,tracking_data.ui_element_location="extended_license"),null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("download",{download_payment_source:tracking_data.payment_source,download_type:tracking_data.download_type,products_string:tracking_data.products_string,downloaded_items:[{asset_family:null!=tracking_data.asset_details?tracking_data.asset_details.asset_family:void 0,asset_id:null!=tracking_data.asset_details?tracking_data.asset_details.asset_id:void 0,asset_size:null!=tracking_data.asset_details?tracking_data.asset_details.asset_size:void 0,asset_type:null!=tracking_data.asset_details?tracking_data.asset_details.asset_type:void 0,asset_usage:null!=tracking_data.asset_details?tracking_data.asset_details.asset_usage:void 0,date_submitted:null!=tracking_data.asset_details?tracking_data.asset_details.date_submitted:void 0,collection_code:null!=tracking_data.asset_details?tracking_data.asset_details.collection_code:void 0,istock_collection:null!=tracking_data.asset_details?tracking_data.asset_details.istock_collection:void 0,license_type:null!=tracking_data.asset_details?tracking_data.asset_details.license_type:void 0,media_type:null!=tracking_data.asset_details?tracking_data.asset_details.media_type:void 0,quality:null!=tracking_data.asset_details?tracking_data.asset_details.quality:void 0,release_info:null!=tracking_data.asset_details?tracking_data.asset_details.release_info:void 0}]}),delete tracking_data.asset_details.asset_size},assetDetails:function(e){return{asset_family:e.family,asset_id:e.id,asset_type:e.assetType,asset_usage:e.family,collection_code:e.collectionCode,license_type:e.licenseType,media_type:e.mediaType,quality:e.quality,release_info:e.releaseCode,date_submitted:e.dateSubmitted}},assetSlotNumber:function(e){var t,n,i=window.giSessionStorage.getItem("search.search_position");if(!i)return null;try{i=JSON.parse(i)}catch(e){return e instanceof SyntaxError?null:function(){throw e}()}return Array.isArray(i)?(t=i.find((function(t){return String(t.asset_id)===String(e)})),n=function(e){return e.grid_slot_number},null!=t?n(t):void 0):null},toasterClickEventDataForBoards:function(e){return{name:"boardsNotificationInteraction",options:{notification_interaction:"Boards_Notification_Saved_to_Board_Click",ui_element_location:"adp_toaster",asset_id:e.assetId,board_id:e.boardId,products_string:(null!=window.tracking_data?window.tracking_data.products_string:void 0)||null}}},trackRemoveFromBoard:function(e){var t=e.asset,n=e.assetId;return null!=window.combinedGtmTracking?window.combinedGtmTracking.gtmPushTracking("removeFromBoard",{grid_slot_number:this.assetSlotNumber(n||t.id),ui_element_location:"adp_icon",removed_items:[angular.copy(window.tracking_data.asset_details)||t&&this.assetDetails(t)]}):void 0},selectedVideoSize:function(e){e&&(tracking_data.asset_details.asset_size=e.definition+"_"+e.codec)},sendToMam:function(e){var t=e.assetId,n=e.sent;return null!=window.combinedGtmTracking?window.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_Send_To_MAM_Click",adp_selection:n?"send_again":"send_to_mam",ui_element_location:"adp_buy_card",asset_id:t}):void 0}};"undefined"!=typeof window&&window.angular&&angular.module("AdpApp").factory("trackingService",(function(){return n})),t.default=n},4113:function(e,t,n){n.r(t),n.d(t,{MOSAIC_GRID_TYPES:function(){return O},default:function(){return D}});var i=n(75418),a=n.n(i),r="MosaicGrid-module__container___Oq2G3",s="MosaicGrid-module__header___MoE8q",o="MosaicGrid-module__headerName___Lht8a",c="MosaicGrid-module__grid___gEul4",l="MosaicGrid-module__gridRow___QAsiu",d="MosaicGridAsset-module__asset___O95lA",u="MosaicGridAsset-module__videoAsset___BC0Z4",_="MosaicGridAsset-module__badge___bKc8H",p="MosaicGridAsset-module__badgeFilm___F0F3d",m=["styles"];function f(){return f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},f.apply(this,arguments)}var h=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,m);return a().createElement("svg",f({width:"23",height:"17",viewBox:"0 0 23 7",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{fill:"none",fillRule:"evenodd"},a().createElement("path",{d:"M-1-1h24v9H-1z"}),a().createElement("path",{d:"M9.813 0v4.4h1.3v1.2h-1.3v.9h-2.6v-1h-6.5c-1.1 0-.6-1.1-.6-1.1s5.9-4.3 6.1-4.4h3.6zm-2.6 1.5l-3.8 2.6h3.8V1.5zm4.3-1.5v6.5h2.7V3.8l4.3 2.7h3.6l-5.7-3.5 5.3-3h-3.4l-4.1 2.4V0h-2.7z",fill:"#FFF",fillRule:"nonzero"})))},g=["styles"];function v(){return v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},v.apply(this,arguments)}var w=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,g);return a().createElement("svg",v({xmlns:"http://www.w3.org/2000/svg",width:"17.103",height:"11.732",viewBox:"0 0 17.103 11.732"},i),a().createElement("path",{className:n.st0||"st0",d:"M17.103.816l-5.371 3.1V0H0v11.732h11.732V7.815l5.37 3.1z"}))},S=n(85893),I=function(e){var t=e.type,n=e.src,i=e.alt;return"image"!==t?null:(0,S.jsx)("img",{src:n,alt:i})},E=function(e){var t=e.type,n=e.src,i=e.poster,a=e.filmDefinition;return"film"!==t?null:(0,S.jsxs)(S.Fragment,{children:["4K"===a?(0,S.jsx)(h,{"aria-label":"video4k",className:_}):(0,S.jsx)(w,{"aria-label":"video",className:p}),(0,S.jsx)("video",{loop:!0,muted:!0,src:n,poster:i,onMouseOver:function(e){return e.target.play()},onMouseLeave:function(e){return e.target.pause()},"data-testid":"mosaic-grid-video-asset"})]})},T=function(e){var t=e.asset,n=e.href,i=e.trackOnClick,a=e.overlay,r=void 0===a?null:a,s=function(e){var t=e.maxWidth?e.maxWidth:0,n=e.maxHeight?e.maxHeight:0,i="film"==e.type?640:612,a=Math.min(i/t,i/n);return{width:Math.floor(t*a),height:Math.floor(n*a)}}(t),o="image"===t.type?d:u;return(0,S.jsxs)("a",{"data-testid":"mosaic-grid-asset",className:o,href:n,onClick:i,style:{"--width":s.width,"--height":s.height},"data-max-width":s.width,"data-max-height":s.height,children:[r,(0,S.jsx)(I,{src:t.thumb612Url,alt:t.title,type:t.type}),(0,S.jsx)(E,{src:t.filmThumbUrl,poster:t.thumbUrl,type:t.type,filmDefinition:t.filmDefinition})]},t.assetId)},C="Overlay-module__overlay___Azyif",N="Overlay-module__overlayText___HxIip",b="Overlay-module__count___RUBNe",x="Overlay-module__media___UcuFd",y=function(e){var t=e.count,n=e.text;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:C,"data-testid":"mosaic-grid-overlay"}),(0,S.jsxs)("div",{className:N,children:[(0,S.jsxs)("div",{className:b,children:["+",t]}),(0,S.jsx)("div",{className:x,children:n})]})]})},A=n(69477),O={SINGLE_ROW:"single-row",MULTI_ROW:"multi-row"},D=function(e){var t=e.data,n=e.containerStyles,i=e.header,a=e.linkText,d=e.viewAllUrl,u=e.overlayText,_=e.tracking,p=e.inGridCount,m=e.gridType,f=void 0===m?O.MULTI_ROW:m,h=function(){return(0,S.jsx)("div",{className:n.placeholderHeight,"data-testid":"mosaic-grid-placeholder"})},g=(0,A.useSiteMap)();if(!t)return(0,S.jsx)(h,{});if(0===t.assets.length)return null;var v=t.totalNumberOfResults-p+1;return(0,S.jsxs)("section",{className:r,"data-testid":"mosaic-grid-assets",children:[(0,S.jsxs)("div",{className:s,children:[(0,S.jsx)("div",{className:o,children:i}),f===O.SINGLE_ROW?null:(0,S.jsxs)("a",{href:d,onClick:_.trackViewAll,children:[a,">"]})]}),(0,S.jsx)("div",{className:f===O.SINGLE_ROW?l:c,children:t.assets.map((function(e,n){var i=function(e){var n=t.assets.length-1,i=t.totalNumberOfResults>p;return e===n&&i}(n);return(0,S.jsx)(T,{asset:e,href:i?d:g.prefixedPath(e.landingUrl),trackOnClick:function(){return i?_.trackViewAllOverlay():_.trackItemClick({targetId:e.assetId,i:n})},overlay:i?(0,S.jsx)(y,{count:v,text:u}):null},e.id)}))})]})}},79461:function(e,t,n){var i=n(75418),a=n.n(i),r=n(74308),s=n(82143),o=n(39655),c=n.n(o),l=n(40684),d=n(85971),u=n(96235),_=n(4113),p=n(85893),m=(0,l.ZP)({resolved:{},chunkName:function(){return"MosaicGrid-MosaicGrid"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,4113))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var i=this.resolve(t);return n(i)},resolve:function e(){return 4113}}),f=function(e){var t=e.increaseGridCounter,n=e.addTrackedGrid,a=(0,o.useTranslations)(),c=(0,r.v9)((function(e){return e.asset})),l=(0,i.useState)(null),f=l[0],h=l[1],g=(0,i.useState)(null),v=g[0],w=g[1],S=c.stackId||c.assetId;(0,i.useEffect)((function(){var e={id:c.assetId,stackId:S,assettype:"image",pagesize:5},i={id:c.assetId,stackId:S,assettype:"film",pagesize:5},a=!0;return(c.isImage||c.isFilm&&c.experiences.AdpSameSeriesDifferentMedia)&&e.stackId&&(t(),(0,s.Q)(e).then((function(e){a&&(h(e),e.assets.length>0?n("same_series_images"):n(null))}))),(c.isFilm||c.isImage&&c.experiences.AdpSameSeriesDifferentMedia)&&i.stackId&&(t(),(0,s.Q)(i).then((function(e){a&&(w(e),e.assets.length>0?n("same_series_videos"):n(null))}))),function(){a=!1}}),[]);var I=function(e){return{trackViewAllOverlay:function(){(0,d.Rz)(e+"_view_all_overlay","view_all_"+e+"_overlay_adp",e,c.assetId)},trackItemClick:function(t){var n=t.targetId,i=t.index;(0,d.cQ)({search_position:i+1,asset_id:n},e,c.assetId)}}};return(0,p.jsxs)(p.Fragment,{children:[function(){if(c.isFilm||c.isImage&&c.experiences.AdpSameSeriesDifferentMedia)return(0,p.jsx)(m,{data:v,containerStyles:u.Z,header:a("same_series_videos"),linkText:a("view_all_video_clips"),viewAllUrl:"/search/stack/"+S+"?assettype=film",overlayText:a("videos"),tracking:I("same_series_video"),inGridCount:4,gridType:_.MOSAIC_GRID_TYPES.SINGLE_ROW})}(),function(){if(c.isImage||c.isFilm&&c.experiences.AdpSameSeriesDifferentMedia)return(0,p.jsx)(m,{data:f,containerStyles:u.Z,header:a("same_series_images"),linkText:a("view_all_photos"),viewAllUrl:"/search/stack/"+S+"?assettype=image",overlayText:a("photos"),tracking:I("same_series_image"),inGridCount:4,gridType:_.MOSAIC_GRID_TYPES.SINGLE_ROW})}()]})};t.Z=f},9424:function(e,t,n){var i=n(75418),a=n.n(i),r=n(74308),s=n(82143),o=n(39655),c=n.n(o),l=n(40684),d=n(85971),u=n(60622),_=n(4113),p=n(85893),m=(0,l.ZP)({resolved:{},chunkName:function(){return"MosaicGrid-MosaicGrid"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return Promise.resolve().then(n.bind(n,4113))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var i=this.resolve(t);return n(i)},resolve:function e(){return 4113}}),f=function(e){var t=e.increaseGridCounter,n=e.addTrackedGrid,a=(0,o.useTranslations)(),c=(0,r.v9)((function(e){return e.asset})),l=(0,i.useState)(null),f=l[0],h=l[1];(0,i.useEffect)((function(){var e={id:c.assetId,assettype:c.assetType,media_type:c.mediaType},i=!0;return t(),(0,s.B)(e).then((function(e){i&&(h(e),(null==e?void 0:e.assets.length)>0?n("similar_images"):n(null))})),function(){i=!1}}),[]);var g;return(0,p.jsx)(m,{data:f,containerStyles:u.Z,header:c.isImage?a("similar_images"):a("similar_films"),linkText:c.isImage?a("view_all_photos"):a("view_all_video_clips"),viewAllUrl:"/search/search-by-"+(c.isImage?c.assetType:"video")+"?assetid="+c.assetId,overlayText:c.isImage?a("similar_images"):a("similar_films"),tracking:(g="similar_images",{trackViewAll:function(){(0,d.qB)("similar_images_view_all","view_all_similar_adp",g,c.assetId)},trackViewAllOverlay:function(){(0,d.Rz)("similar_images_view_all_overlay","view_all_similar_overlay_adp",g,c.assetId)},trackItemClick:function(e){var t=e.targetId,n=e.index;(0,d.cQ)({search_position:n+1,asset_id:t},g,c.assetId)}}),inGridCount:30,gridType:_.MOSAIC_GRID_TYPES.MULTI_ROW})};t.Z=f},85971:function(e,t,n){n.d(t,{qB:function(){return r},Rz:function(){return s},cQ:function(){return o},Gm:function(){return c}});var i=n(82429),a=function(e,t,n){void 0===n&&(n=void 0),(0,i.useGtm)().trackEvent("adpInteraction",{adp_interaction:"mosaic_grid "+e,adp_selection:n?t+" "+n:t})},r=function(e,t,n,r){var s=(0,i.useSpectrum)(),o=(0,i.useGtm)();s.sendItemSelectedSignal(e,{},{source_assetid:r}),o.prepareEvent("search",{ui_element_location:t}),a("view_all_click",n)},s=function(e,t,n,r){var s=(0,i.useSpectrum)(),o=(0,i.useGtm)();s.sendItemSelectedSignal(e,{},{source_assetid:r}),o.prepareEvent("search",{ui_element_location:t}),a("view_all_overlay_click",n)},o=function(e,t,n){var r=(0,i.useSpectrum)();a("click",t,e.search_position),r.sendItemSelectedSignal(t,e,{source_assetid:n})},c=function(e){a("shown",e)}},53234:function(e,t,n){var i=n(75418),a=n.n(i),r=n(40684),s=n(85893),o=(0,r.ZP)({resolved:{},chunkName:function(){return"react-loader-spinner"},isReady:function(e){var t=this.resolve(e);return!0===this.resolved[t]&&!!n.m[t]},importAsync:function(){return n.e(2432).then(n.bind(n,31607))},requireAsync:function(e){var t=this,n=this.resolve(e);return this.resolved[n]=!1,this.importAsync(e).then((function(e){return t.resolved[n]=!0,e}))},requireSync:function e(t){var i=this.resolve(t);return n(i)},resolve:function e(){return 31607}}),c=function(e){var t=e.color,n=e.height,i=e.width,a=e.type,r=void 0===a?"Oval":a;return(0,s.jsx)(o,{type:r,color:t,height:n,width:i})};t.Z=c},26352:function(e,t,n){n.r(t),n.d(t,{default:function(){return $o}});var i=n(75418),a=n.n(i),r=n(74308),o=n(47914),c={Small:"small_file_size",Medium:"medium_file_size",Large:"large_file_size",Xlarge:"xlarge_file_size",Xxlarge:"xxlarge_file_size",eps:"EPS",epsUnavailable:"EPS"},l=null,d=!1,u=function(e){if(l=e.findIndex((function(e){return"eps"===e.name})),d=0<=l){var t=e[l];return t.teeShirtSize=t.name,t.isEps=!0}},_=function(e,t,n){return"film"===t||"illustration"!==n||d||e.push({name:"epsUnavailable",teeShirtSize:"epsUnavailable",description:"eps_not_available",epsUnavailable:!0}),e},p={formatAsset:function(e){return"film"!==e.type&&u(e.imageSizes),{agreements:e.agreements,allowedUseCodeKey:e.allowedUseCodeKey,assetCost:e.assetCost,assetDimensions:e.assetDimensions,assetFamily:e.family,assetId:e.id,assetQuality:e.quality,assetSubmittedDate:e.assetSubmittedDate,assetType:e.type,buyAndBurn:e.fromBuyAndBurnCheckout,categories:e.categories,categoriesView:e.categoriesView,contributor:e.contributor,defaultMainImageURL:e.defaultMainImageURL,downloadSavingsDisclaimer:e.downloadSavingsDisclaimer,editable:e.editable,editableInVideoEditor:e.editableInVideoEditor,editorPath:e.editorPath,epsFileSizeIndex:l,exclusiveContent:e.exclusiveContent,experiences:e.experiences,filmCompUrl:e.filmCompUrl,freeFile:e.isFreeFile,fromExtendedLicenseFastCheckout:e.fromExtendedLicenseFastCheckout,galleryComp1024Url:e.galleryComp1024Url,galleryHighResCompUrl:e.galleryHighResCompUrl,hasEpsFileSize:d,includedWithSubscription:0<=(null!=e.agreements?e.agreements.indexOf("RF"):void 0),is360image:e.is360image,isEditorialUseOnly:e.isEditorialUseOnly,isEssentialImage:e.isEssentialImage,isFilm:e.isFilm,isHidden:e.isHidden,isIllustration:e.isIllustration,isImage:e.isImage,isIstockExclusive:e.isIstockExclusive,isVector:e.isVector,istockCollection:e.istockCollection,keywords:e.keywords,keywordsView:e.keywordsView,largeMainImageURL:e.largeMainImageURL,licenseType:e.license,mainImageUrl:e.mainImageUrl,mediaType:e.mediaType,metaTags:e.metaTags,orderId:e.orderId,orientation:e.orientation,ratio:e.ratio,rfFaqData:e.rfFaqData,showCreditExpiryDisclaimer:e.showCreditExpiryDisclaimer,sizes:_(e.imageSizes,e.type,e.mediaType),stackId:e.stackId,standardLicense:e.standardLicense,thumb612Url:e.thumb612Url,thumbUrl:e.thumbUrl,title:e.title,videoEditorPath:e.videoEditorPath,zoomedImageUrl:e.zoomedImageUrl}},getSizeMap:function(){return c},getPreferredSize:function(){return"undefined"!=typeof window&&null!=window.localStorage?window.localStorage.istock_user_preferred_download_size:void 0},getVideoPreferredSize:function(){return"undefined"!=typeof window&&null!=window.localStorage?{name:window.localStorage.istock_user_preferred_video_download_size_name,definition:window.localStorage.istock_user_preferred_video_download_size_definition}:void 0},getEpsPreferredSize:function(){return"undefined"!=typeof window&&null!=window.localStorage?window.localStorage.istock_user_preferred_eps_download_size:void 0},setPreferredSize:function(e){null!=window.localStorage&&(window.localStorage[d?"istock_user_preferred_eps_download_size":"istock_user_preferred_download_size"]=e)},setPreferredVideoSize:function(e,t){null!=window.localStorage&&(window.localStorage.istock_user_preferred_video_download_size_name=e,window.localStorage.istock_user_preferred_video_download_size_definition=t)}},m="signature",f="essentials",h=function(e){if(e)return e.match(/premium|signature/i)},g={SIGNATURE:m,ESSENTIALS:f,isSignature:h,isEssentials:function(e){return!!(e?e.match(/essentials/i):void 0)},getAssetCollectionName:function(e){return h(e.istockCollection)?m:f}},v={subsInfo:{}},w=function(e){void 0===e&&(e={});var t=e.name||"";return v.subsInfo={isSignature:g.isSignature(t),isEssentials:g.isEssentials(t),downloadedCount:e.download_count||0,downloadLimit:e.download_limit||0,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0},v.subsInfo.downloadsRemaining=v.subsInfo.downloadLimit-v.subsInfo.downloadedCount},S=function(e){window.tracking_data.has_purchased=e.has_purchase_history,window.tracking_data.has_credits=e.has_credits,window.tracking_data.has_subscription=e.has_subscription,window.tracking_data.has_subs_downloads=e.subsInfo.downloadsRemaining>0,window.tracking_data.remembered=e.remembered,window.tracking_data.authenticated=e.authenticated},I={formatUser:function(e){return void 0===e&&(e={}),(v=e).credit_amount=v.credit_amount||0,v.authenticated=v.authenticated||!1,v.remembered=v.remembered||!1,v.team_member=v.team_member||!1,v.team_leader=v.team_leader||!1,v.has_credits=v.has_credits||!1,v.has_subscription=v.has_subscription||!1,v.team_credits=v.team_credits||0,v.team_name=v.team_name||"",v.free_trial_subscription_test_active=v.free_trial_subscription_test_active||!1,w(),"undefined"!=typeof window&&void 0!==window.tracking_data&&S(v),v}},E=Object.freeze({PICK_PAYMENT_OPTION:"PICK_PAYMENT_OPTION",REDOWNLOAD_FOR_FREE:"REDOWNLOAD_FOR_FREE",PICK_PRICING_CLARITY_PAYMENT_OPTION:"PICK_PRICING_CLARITY_PAYMENT_OPTION",FREE_ADMIN_DOWNLOAD:"FREE_ADMIN_DOWNLOAD",INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP:"INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP",PURCHASE_AND_SELECT_LICENCES_STEP:"PURCHASE_AND_SELECT_LICENCES_STEP",CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS:"CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS",CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS:"CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS",CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING",CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING:"CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING",CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:"CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS",CONFIRM_DOWNLOAD_BY_TEAM_CREDITS:"CONFIRM_DOWNLOAD_BY_TEAM_CREDITS",CONFIRM_REDOWNLOAD_FOR_FREE:"CONFIRM_REDOWNLOAD_FOR_FREE",MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION:"MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES",MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:"MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION",TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS:"TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS",COMPLETE_DOWNLOAD:"COMPLETE_DOWNLOAD",COMPLETE_REDOWNLOAD:"COMPLETE_REDOWNLOAD",CHOOSE_ACCOUNT:"CHOOSE_ACCOUNT",TEAM_ACCOUNT_OUT_OF_CREDITS:"TEAM_ACCOUNT_OUT_OF_CREDITS",SELECT_ACCOUNT_TYPE:"SELECT_ACCOUNT_TYPE"}),T=n(43393),C=n.n(T),N=function(){function e(){}return e.isMappable=function(e){return null!==e&&"object"==typeof e&&!C().Iterable.isIterable(e)},e.mapArray=function(e){var t=this;return C().List(e.map((function(e){return t.mapJS(e)})))},e.mapHash=function(e){for(var t in e){var n=e[t];e[t]=this.mapJS(n)}return C().Record(e)()},e.mapJS=function(e){return this.isMappable(e)?Array.isArray(e)?this.mapArray(e):this.mapHash(e):e},e.fromJS=function(e){return this.mapJS(e)},e}(),b=N.fromJS({user:{country_code:"",authenticated:!1,remembered:!1,anonymous:!0,has_subscription:!1,has_purchase_history:!1,team_member:!1,team_leader:!1,team_name:"",eligible_for_free_trial:!1,fast_checkout_sub:!1,fast_checkout_subs_pack_sku:"",istock_fast_checkout_larger_offer_credit_pack_sku:"",pricing_clarity_flow:!1,credit_amount:0,has_credits:!1,team_credits:0,subsInfo:{isSignature:!1,isEssentials:!1,downloadedCount:0,downloadLimit:0,autoRenews:!1,daysUntilExpiry:0,downloadsRemaining:0}},asset:{assetDimensions:{width:0,height:0},assetType:"",agreements:[],assetFamily:"",assetId:"",allowedUseCodeKey:"",istockCollection:"",keywords:[],licenseType:"",mediaType:"",freeFile:!1,hasEpsFileSize:!1,epsFileSizeIndex:-1,standardLicense:{license_type:"",description:"",credit_cost:Number.MAX_VALUE,is_purchase_required:!0,acquired:!1,is_acquired_and_not_repurchasable:!1,is_selected:!1},metaTags:{seoAlt:"",seoCaption:"",seoImageTitle:"",seoFilmAlt:""},sizes:[],isIstockExclusive:!1,mainImageUrl:"",defaultMainImageURL:"",zoomedImageUrl:"",thumbUrl:"",isEditorialUseOnly:!1,keywordsListView:{},assetCost:"",assetSubmittedDate:"",exclusiveContent:"",downloadSavingsDisclaimer:"",contributor:{displayName:"",pictureUrl:"",memberUrl:""},categoriesView:{ftlpCategory:"",parentKeywordCategory:"",matchingInspirePages:""},isHidden:!1,isIllustration:!1,isImage:!1,isFilm:!1,isEssentialImage:!1,isVector:!1,experiences:{iStockADPMosaicGrid:!1,extendedLicenseFastCheckout:!1,mobileRadioDefaultFCToCredits:!1},fromExtendedLicenseFastCheckout:!1,buyAndBurn:!1},agreements:[],subscription:null,licenses:[],calc:{step:{name:E.PICK_PAYMENT_OPTION,viewLicenseSelection:!1,showFileTypeDropdown:!1,showPricingClarity:null,redownloadSection:null,showCreditCost:null,title:null},assetIsIllustration:!1,assetIsImage:!1,assetIsVideo:!1,assetCollectionName:"",assetCollectionIsSignature:!1,buyAndBurnDownload:!1,localePhoneNumber:void 0,countryLanguagePrefix:void 0,preventGatewaySrp:!1,redownloadForFree:!1,isFreeAdminDownload:!1,teamCreditsAvailable:0,includedWithSubscription:void 0,selectedAccount:void 0,selectedAccountCredits:0,selectedAccountHasAnyCredits:!1,selectedAccountHasEnoughCredits:!1,selectedAgreement:void 0,selectedAgreementType:void 0,selectedAgreementSize:void 0,selectedAssetSize:{},largestSizeAvailable:{},userIsTeamUser:!1,isTeamAccountSelected:!1,totalCreditCost:Number.MAX_VALUE,isInPricingClarity:!1,ctaInProgress:!1,showDropboxModal:void 0,showIncentivizationModal:void 0,hasSubscription:!1,isSubscriptionDownloadAllowed:!1,optionalLicenseIndexes:[],hasSelectedOptionalLicenses:!1,notAcquiredSelectedLicenses:[],hasAvailableCredits:!1},visitorExperiences:{},buyCardData:{},downloadData:null,displayError:null,redirectToUrl:null,searchBar:null}),x={INITIALIZE:"INITIALIZE",SET_AVAILABLE_CREDITS:"SET_AVAILABLE_CREDITS",SET_AGREEMENTS:"SET_AGREEMENTS",LOAD_SUBSCRIPTION:"LOAD_SUBSCRIPTION",SELECT_AGREEMENT_TYPE:"SELECT_AGREEMENT_TYPE",SET_SELECTED_ACCOUNT:"SET_SELECTED_ACCOUNT",SET_DISPLAY_ERROR:"SET_DISPLAY_ERROR",SET_LICENSES:"SET_LICENSES",SET_TOASTER:"SET_TOASTER",SET_BUY_AND_BURN_DOWNLOAD:"SET_BUY_AND_BURN_DOWNLOAD",CHECK_LICENSE:"CHECK_LICENSE",SELECT_ASSET_SIZE:"SELECT_ASSET_SIZE",SET_CTA_IN_PROGRESS:"SET_CTA_IN_PROGRESS",SELECT_PRICING_CLARITY_OPTION_TOGGLE:"SELECT_PRICING_CLARITY_OPTION_TOGGLE",GO_TO_BEGINNING:"GO_TO_BEGINNING",CANCEL_AND_BACK_TO_BEGINING:"CANCEL_AND_BACK_TO_BEGINING",GO_TO_FREE_ADMIN_DOWNLOAD:"GO_TO_FREE_ADMIN_DOWNLOAD",GO_TO_CONFIRM_DOWNLOAD:"GO_TO_CONFIRM_DOWNLOAD",GO_TO_COMPLETE_DOWNLOAD:"GO_TO_COMPLETE_DOWNLOAD",GO_TO_COMPLETE_REDOWNLOAD:"GO_TO_COMPLETE_REDOWNLOAD",GO_TO_NEXT_STEP:"GO_TO_NEXT_STEP",FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED:"FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED",SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD:"SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD",POST_ASSET_TO_CREATE_DOWNLOAD:"POST_ASSET_TO_CREATE_DOWNLOAD",REDIRECT_TO_URL:"REDIRECT_TO_URL",SET_DOWNLOAD_DATA:"SET_DOWNLOAD_DATA",SELECT_ACCOUNT_STEP:"SELECT_ACCOUNT_STEP",CONFIRM_DOWNLOAD_STEP:"CONFIRM_DOWNLOAD_STEP",GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP:"GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP",SET_SPECTRUM_DOWNLOADED_ASSET_ID:"SET_SPECTRUM_DOWNLOADED_ASSET_ID"},y=Object.freeze({active:"Active",cancelled:"Cancelled",expired:"Expired",paused:"Paused",pending:"Pending",suspended:"Suspended"});var A=function(e){if(void 0===e&&(e={}),e.subscription){var t=e.subscription.sku;if(e.subscription.status===y.paused)switch(((e.calc||{}).step||{}).name){case E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case E.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:!function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Paused_Notification_Dismiss",account_selection:window.tracking_data.page_name,sku:e,ui_element_location:"adp_subscription_paused_message"})}(t)}}},O=function(e){return{type:x.SET_SELECTED_ACCOUNT,selectedAccountName:e}},D=function(){return{type:x.GO_TO_NEXT_STEP}},k=n(56309),j=n.n(k),L="RoyaltyFreeSubscription",R="CreditPack",P="EasyAccess",F={ROYALTY_FREE_SUBSCRIPTION:L,CREDIT_PACK:R,EASY_ACCESS:P,ALL:[L,R,P]},M=n(94248),U=function(e){return M.default.singleDownload(function(e){return e.asset.freeFile?"free_download":e.calc.redownloadForFree?"redownload":e.calc.selectedAgreementType===F.CREDIT_PACK?"credits":e.calc.selectedAgreementType===F.ROYALTY_FREE_SUBSCRIPTION?"subscription":null}(e),function(e){return e.calc.hasSelectedOptionalLicenses?e.licenses.filter((function(e){return e.is_selected&&"Standard"!==e.license_type})).map((function(e){return e.license_type})).toArray():null}(e))},B=function(e){return void 0===e&&(e=null),{type:x.SET_DISPLAY_ERROR,message:e}},z=function(e){return{type:x.REDIRECT_TO_URL,url:e}},G=function(e){return{type:x.SET_BUY_AND_BURN_DOWNLOAD,buyAndBurnDownload:e}},W=function(e){return e.selectedAgreementType===F.CREDIT_PACK&&e.hasSelectedOptionalLicenses?e.notAcquiredSelectedLicenses:null},H=function(e,t,n){return function(i,a){var r,s=a(),o=s.asset,c=s.calc;return j().post("/downloads/create-download",{data:{asset:{asset_id:o.assetId,asset_type:o.assetType,asset_collection:o.istockCollection},tokens:[c.selectedAgreementSize.download_token],licenses:null==(r=W(c))?void 0:r.toJS(),korrelation_id:e,credit_share:c.isTeamAccountSelected}}).then((function(e){i(function(e){return{type:x.SET_DOWNLOAD_DATA,downloadData:e}}(e.data));var t=a(),r=t.downloadData,s=!1;return n||!r.hasDownloadDestinations?window.location.href=r.downloadDestinationUrl:s=r.dropboxEnabled,U(t),i(function(e,t){return{type:x.SET_TOASTER,forceDownload:e,dropboxEnabled:t}}(n,s)),t.calc.buyAndBurnDownload?i(G(!1)):t.calc.redownloadForFree?i(function(e){return{type:x.GO_TO_COMPLETE_REDOWNLOAD,dropboxEnabled:e}}(s)):void i(function(e){return{type:x.GO_TO_COMPLETE_DOWNLOAD,dropboxEnabled:e}}(s))})).catch((function(e,n){403===e.status&&i(z(t)),i(B("download_failed"))}))}},V={PERSONAL:"personalAccount",TEAM:"teamAccount"};function Y(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var q=function(){function e(){}var t=e.prototype;return t._parseQuery=function(e){for(var t,n={},i="image",a=Y(e.toLowerCase().split("&"));!(t=a()).done;){var r=t.value,s=Array.from(r.split("=")),o=s[0],c=s[1];"assettype"===o&&(i=c),this._addItem(n,o,decodeURIComponent(c))}return n.assettype||this._addItem(n,"assettype",i),[n,i]},t._addItem=function(e,t,n){return e[t]||(e[t]={}),e[t][n]=n,!0},t._buildQuery=function(e){var t=this._parseQuery(e),n=t[0],i=t[1],a=["language","contracturl","assettype"],r=[];for(var s in n){var o=n[s];if(!a.contains(s))for(var c in o){var l=o[c];""!==l&&r.push(s+"="+encodeURIComponent(l))}}return[r.join("&"),i]},t.parseQuery=function(e){return this._parseQuery(e)},t.normalizeUrl=function(e){var t=e.split("?"),n=t[0];if(t.length>1){var i=t[1],a=this._buildQuery(i),r=a[0];a[1];return[n+"?"+r,i]}return[n,""]},t.normalizeUrlFromQuery=function(e){var t=this._buildQuery(e),n=t[0],i=t[1];return["/search/2/"+i+"?"+n,i]},e}(),J=q,Z=function(e){return void 0===e&&(e=document.referrer),null!=function(e){var t=new J,n=t.normalizeUrl(e)[1];return t.parseQuery(n)[0]}(e).phrase?window.giLocalStorage.setItem("spectrum.downloadAssetId",window.tracking_data.asset_details.asset_id):window.giLocalStorage.getItem("spectrum.downloadAssetId")!==window.tracking_data.asset_details.asset_id&&window.giLocalStorage.removeItem("spectrum.downloadAssetId"),{type:x.SET_SPECTRUM_DOWNLOADED_ASSET_ID}};var Q=function(){return function(e,t){if(t().user.authenticated)return j().get("/downloads/subscription",{headers:{Accept:"application/json"}}).then((function(t){return e({subscription:t.data,type:x.LOAD_SUBSCRIPTION}),Promise.resolve(!0)})).catch((function(e){}))}},X=function(e){return{type:x.SET_AGREEMENTS,agreements:e}},ee=function(){return function(e,t){var n=t(),i=n.agreements,a=n.asset;return 0!==i.size?Promise.resolve(!0):t().user.authenticated?j().get("/downloads/asset-agreements/"+a.assetId,{headers:{Accept:"application/json"}}).then((function(t){return e(X((null!=t.data?t.data.agreements:void 0)||[])),e(Q()),Promise.resolve(!0)})).catch((function(t){return e(X([])),e(Q()),Promise.resolve(!1)})):(e(X([])),e(Q()),Promise.resolve(!1))}},te=function(){return function(e){return j().get("/downloads/download-agreements-overview",{headers:{Accept:"application/json"}}).then((function(t){return e((n=t.data,{type:x.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED,agreementOverview:n}));var n})).catch((function(t){return e(B("download_failed"))}))}},ne=function(){return function(e){return j().get("/downloads/customer/credit-balances",{headers:{Accept:"application/json"}}).then((function(t){return e((n=t.data.personal_credits,i=t.data.team_credits,{type:x.SET_AVAILABLE_CREDITS,personalCredits:n,teamCredits:i}));var n,i})).catch((function(t){return e(B("download_failed"))}))}},ie=function(){return function(e,t){if(e({type:x.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD}),!t().redirectToUrl)return e(Z()),t().user.team_member||e(O(V.PERSONAL)),e(ee()).then((function(n){return e(ne()).then((function(){return t().calc.isFreeAdminDownload?e({type:x.GO_TO_FREE_ADMIN_DOWNLOAD}):e(te()).then((function(){if(!t().redirectToUrl)return e(D())}))}))})).catch((function(t){return e(B("download_failed"))}))}},ae=function(e){return{type:x.SET_LICENSES,licenses:e}},re=function(e,t){return function(n,i){var a=i().licenses.toJS();return 1<a.size?n(ae(a)):j().get(window.siteMap.cleanRelativePath("/asset-detail/"+e.assetId+"/licenses"),{params:{asset_type:e.assetType,allowed_use_code_key:e.allowedUseCodeKey,istock_collection:e.istockCollection,credit_share:t},headers:{Accept:"application/json"}}).then((function(e){var t=e.data||[];n(ae(t)),n({type:x.SET_CTA_IN_PROGRESS,inProgress:!1})})).catch((function(e){return n(B("can_not_get_extended_licenses"))}))}},se=function(){return function(e,t){return e(ee()).then((function(){if(function(e){return e.user.team_member&&e.user.has_purchase_history&&!e.calc.selectedAccount}(t()))return e(ne()).then((function(){return e({type:x.SELECT_ACCOUNT_STEP,nextStepIsToDownloadWithLicenseSelection:!0})}));var n=t();e(re(n.asset,n.calc.isTeamAccountSelected))})).catch((function(t){e(B("download_failed"))}))}},oe=function(){return function(e,t){return e(se()).then((function(){return e({type:x.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP})}))}},ce={initializeDataStep:function(e,t,n,i,a,r,s,o,c){return void 0===s&&(s={}),void 0===o&&(o={}),{type:x.INITIALIZE,asset:e,user:t,preferredDownloadSize:n,preferredEpsDownloadSize:i,preventGatewaySrp:a,localePhoneNumber:r,visitorExperiences:s,buyCardData:o,countryLanguagePrefix:c}},cancelDownload:function(){return{type:x.CANCEL_AND_BACK_TO_BEGINING}},closeDownloadErrorMessage:function(){return function(e,t){A(t()),e({type:x.CANCEL_AND_BACK_TO_BEGINING})}},closeLicensePicker:function(){return{type:x.CANCEL_AND_BACK_TO_BEGINING}},selectAssetSize:function(e){return{type:x.SELECT_ASSET_SIZE,assetSize:e}},setCtaInProgress:function(e){return{type:x.SET_CTA_IN_PROGRESS,inProgress:e}},checkLicense:function(e){return{type:x.CHECK_LICENSE,licenseIndex:e}},selectPricingClarityOptionToggle:function(e){return{type:x.SELECT_PRICING_CLARITY_OPTION_TOGGLE,pricingOptionSelected:e}},setSelectedAgreementType:function(e){return{type:x.SELECT_AGREEMENT_TYPE,agreementType:e}},setRedirectUrl:function(e){return{type:x.REDIRECT_TO_URL,url:e}},goToInitialLoad:function(){return function(e,t){return e(ee()).then((function(t){return e({type:x.GO_TO_BEGINNING})})).catch((function(e){}))}},goToNextStep:D,setSelectedAccount:O,initiateDownload:ie,pickOptionalLicenses:se,performDownload:H,goToInitiateDownloadAndSelectLicensesStep:oe},le=n(72739),de=n(54968);var ue=function(e,t){if(void 0===e&&(e=null),t.type===x.LOAD_SUBSCRIPTION)e=N.fromJS(t.subscription);return e},_e=function(e,t){return e=e.set("displayError",t.message)},pe=function(e,t){return e=e.setIn(["calc","ctaInProgress"],t.inProgress)},me=function(e,t){var n,i,a,r;return e=e.mergeIn(["calc"],{showDropboxModal:(n=t,i=n.forceDownload,a=n.dropboxEnabled,r=null!=giLocalStorage.getItem("dropboxOptOut"),!i&&!a&&!r)})},fe=function(e){return e.calc.optionalLicenseIndexes.map((function(t){return e.licenses.get(t)}))},he=function(e){return fe(e).reduce((function(e,t){return e||t.is_selected}),!1)},ge=function(e){var t=Se(e),n=null!=e.calc.selectedAssetSize?e.calc.selectedAssetSize.get(t):void 0;return n?ve(n):we},ve=function(e){var t=new RegExp("^"+e+"$","i");return function(e,n){return n.reduce((function(n,i){return n||null!=(null!=e[i]?e[i].match(t):void 0)}),!1)}},we=function(){return!1},Se=function(e){return e.calc.assetIsImage||e.calc.assetIsIllustration?"teeShirtSize":e.calc.assetIsVideo?"name":null},Ie=function(e){var t=[];return e.calc.assetIsImage&&t.push("tee_shirt_size"),(e.calc.assetIsIllustration||e.calc.assetIsVideo)&&t.push("teams_size"),t},Ee=function(e,t,n){return e.flatMap((function(e){return e.authorized_sizes})).find((function(e){return e.is_free&&n(e,t)}))},Te=function(e,t,n){return e.flatMap((function(e){return e.authorized_sizes})).find((function(e){return n(e,t)}))},Ce=function(e){var t=void 0;return e.calc.redownloadForFree&&!he(e)?t=function(e){var t=ge(e),n=Ie(e),i=e.agreements.filter((function(e){return e.type===F.ROYALTY_FREE_SUBSCRIPTION})),a=Ee(i,n,t);if(!a){var r=e.agreements.filter((function(e){return e.type===F.CREDIT_PACK}));a=Ee(r,n,t)}return a}(e)||e.calc.selectedAgreementSize:e.calc.isFreeAdminDownload?t=function(e){var t=ge(e),n=Ie(e),i=e.agreements.filter((function(e){return e.type===F.EASY_ACCESS}));return Te(i,n,t)}(e)||e.calc.selectedAgreementSize:e.calc.selectedAgreement&&(t=function(e){var t=ge(e),n=Ie(e);return e.calc.selectedAgreement.authorized_sizes.find((function(e){return t(e,n)}))}(e)),e=e.setIn(["calc","selectedAgreementSize"],t)},Ne=function(e){var t,n=e.find((function(e){return e.type===F.CREDIT_PACK&&e.agreement_details.is_credit_share}));return(null==n||null==(t=n.agreement_details)?void 0:t.available_credits)||0},be=function(e){return e.some((function(e){return e.agreement_details.available_credits>0}))},xe=function(e){return!!e.find((function(e){return e.authorized_sizes.find((function(e){return e.is_free}))}))},ye=function(e,t){return!!function(e,t){return e.filter((function(e){return e.type===t}))}(e,t)[0]},Ae=function(e,t){var n=t.agreements||e.agreements||[];return e=(e=e.set("agreements",N.fromJS(n))).mergeIn(["calc"],{includedWithSubscription:ye(n,F.ROYALTY_FREE_SUBSCRIPTION),redownloadForFree:!e.asset.freeFile&&xe(n),isFreeAdminDownload:ye(n,F.EASY_ACCESS),teamCreditsAvailable:Ne(n),hasAvailableCredits:be(n)}),e=Ce(e)},Oe=function(e,t){if(!t)return null;var n=new RegExp("^"+t+"$","i");return e.find((function(e){return null!=e.teeShirtSize?e.teeShirtSize.match(n):void 0}))},De=function(e,t){var n=t.assetSize,i=n;return!n&&e.calc.assetIsImage&&(i=function(e,t){var n,i=e.sizes;if(e.hasEpsFileSize)return"Test"===e.experiences.VectorDefaultSize?Oe(i,t.preferredEpsDownloadSize)||i.pop().last():Oe(i,t.preferredEpsDownloadSize)||i.get(e.epsFileSizeIndex);if(null!=(n=i.last())&&n.epsUnavailable){var a=i.pop();return Oe(i,t.preferredDownloadSize)||a.last()}return Oe(i,t.preferredDownloadSize)||i.last()}(e.asset,t)),e=e.setIn(["calc","selectedAssetSize"],i),e=Ce(e)},ke=function(e,t){var n=e.calc.totalCreditCost<=e.calc.selectedAccountCredits;return e=e.setIn(["calc","selectedAccountHasEnoughCredits"],n)},je=function(e){return function(e){return e.asset.freeFile?e.agreements.find((function(e){return e.type===F.CREDIT_PACK})):null}(e)||function(e){return e.agreements.find((function(t){return t.type===e.calc.selectedAgreementType&&(function(e,t){return function(e){return!!e.agreement_details.is_credit_share}(t)===e.calc.isTeamAccountSelected||function(e){return!!e.agreement_details.is_shared_subscription}(t)===e.calc.isTeamAccountSelected}(e,t)||e.user.team_leader)}))}(e)},Le=function(e,t){return e=e.setIn(["calc","selectedAgreement"],je(e)),e=Ce(e)},Re=function(e,t){var n=(null!=t?t.agreementType:void 0)||e.calc.selectedAgreementType;return e=e.setIn(["calc","selectedAgreementType"],function(e,t){return t===F.ROYALTY_FREE_SUBSCRIPTION?e.calc.step.subsAvailable:t===F.CREDIT_PACK&&e.calc.step.creditsAvailable}(e,n)?n:null),e=Le(e)},Pe=function(e,t){void 0===t&&(t=void 0);var n=null!=t?t.selectedAccountName:void 0,i=null,a=n===V.TEAM||!!e.user.team_leader;return a?i=e.calc.teamCreditsAvailable:n===V.PERSONAL&&(i=e.user.credit_amount),e=e.mergeIn(["calc"],{selectedAccount:n,selectedAccountCredits:i,selectedAccountHasAnyCredits:0<i,isTeamAccountSelected:a}),e=function(e){var t=void 0;return e.calc.isTeamAccountSelected&&e.calc.selectedAccountHasEnoughCredits&&(t=F.CREDIT_PACK),!e.calc.isTeamAccountSelected&&e.calc.isSubscriptionDownloadAllowed&&e.calc.userIsTeamUser&&(t=F.ROYALTY_FREE_SUBSCRIPTION),Re(e,{agreementType:t})}(e=ke(e))},Fe=function(e,t){var n,i=t.downloadData,a=i.single_downloads&&i.single_downloads[0]?i.single_downloads[0].url:null,r=!!(i.download_destinations&&i.download_destinations[0]&&i.download_destinations[0].token);return e=e.set("downloadData",N.fromJS({data:i,hasDownloadDestinations:0<(null==(n=i.download_destinations)?void 0:n.length),downloadDestinationUrl:a,dropboxEnabled:r}))},Me=function(e){return function(){if("undefined"==typeof s||null===s)return!1;var t=$.siteCatalyst.pageTrackingVariables(),n=$.extend({},t);n.eVar77=!0,s.linkTrackVars=$.map(n,(function(e,t){return t})).join(","),s.linkTrackEvents="event197",s.events="event197",s.eVar77=e===V.PERSONAL?"MyAccount":"SharedCreditAccount",s.tl(!0,"o","Choose Account")}},Ue={title:null,ctaClass:"",ctaTitle:null,ctaAction:"",showPricingClarity:!1,reasonForBox:"",creditsAvailable:!0,subsAvailable:!0,selectedAccount:void 0,viewLicenseSelection:!1},Be=function(e){return e.calc.step.selectedAccount===V.TEAM},ze=function(e){return e.calc.step.showSubTypeMessage},Ge=function(e,t){for(var n=ze(e)&&!Be(e),i=arguments.length,a=new Array(i>2?i-2:0),r=2;r<i;r++)a[r-2]=arguments[r];var s=Object.assign.apply(Object,[{},Ue,t,{showSubTypeMessage:n}].concat(Array.from(a))),o=N.fromJS(s);return e=e.setIn(["calc","step"],o),e=Re(e,{agreementType:e.calc.selectedAgreementType||o.selectedAgreementType})},We=function(e,t){void 0===t&&(t={});return e=Ge(e,{name:E.CHOOSE_ACCOUNT,title:e.calc.assetCollectionName+"_collection",ctaTitle:"choose_account",ctaClass:"primary-cta",selectedAccount:V.TEAM,ctaAction:t.nextStepIsToDownloadWithLicenseSelection?"goToInitiateDownloadAndSelectLicensesStep":"handleAccountSelection",showAccountChoices:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,triggerTracking:Me(e.calc.selectedAccount)}),e=Pe(e,{selectedAccountName:e.calc.step.selectedAccount})},He=function(e){return Pe(e,void 0)},Ve=function(e,t){return e+t.credit_cost},Ye=function(e){return e.reduce(Ve,0)},Ke=function(e){var t=function(e){return e.licenses.filter((function(e){return e.is_selected&&!e.is_acquired_and_not_repurchasable}))}(e);return e=e.mergeIn(["calc"],{totalCreditCost:Ye(t),notAcquiredSelectedLicenses:t}),e=ke(e)},qe=function(e){var t=e.licenses.withMutations((function(t){return e.calc.optionalLicenseIndexes.forEach((function(e){return t.setIn([e,"is_selected"],!1)}))}));return e=(e=e.set("licenses",t)).setIn(["calc","hasSelectedOptionalLicenses"],!1),e=(e=Ke(e)).setIn(["calc","step","viewLicenseSelection"],!1)},Je=function(e){return void 0===e&&(e={}),function(){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",Object.assign({adp_interaction:e.adp_interaction||"ADP_Download_Button_Click",adp_selection:e.adp_selection,sku:e.sku,download_payment_source:e.download_payment_source,ui_element_location:e.ui_element_location},e.asset_size&&{asset_size:e.asset_size}))}},Ze=function(e){return"pricing"===e?"PnP_Checkout_Option":"Fast_Checkout_Option"},Qe=function(e,t){switch(e){case"checkoutLargerCreditPack":return $e(t.user);case"checkoutSubscription":return t.user.fast_checkout_subs_pack_sku;default:return Xe(t.asset)}},Xe=function(e){return e.standardLicense.minimum_sku},$e=function(e){return e.istock_fast_checkout_larger_offer_credit_pack_sku},et=function(e,t){return"checkout"===e?function(e,t){return function(e){return"film"==e.assetType}(t)?"adp_continue_to_checkout_button_single_clip_credit_pack_option":"checkoutLargerCreditPack"===e?"adp_continue_to_checkout_button_multi_credit_pack_option":"adp_continue_to_checkout_button-single_image_option"}(e,t):"pricing"===e?"adp_buy_card_view_plans_option":"checkoutSubscription"===e||"checkoutLargerCreditPack"===e?function(e){return"checkoutLargerCreditPack"===e?"adp_continue_to_checkout_button_multi_clip_credit_pack_option":"adp_continue_to_checkout_button-subscription_option"}(e):void 0},tt=function(e,t){var n={sku:e.standardLicense.minimum_sku,adp_selection:"No_Checkout_Option",ui_element_location:"adp_buy_card_paid_download_start_cta",asset_size:null==t?void 0:t.name};return e.freeFile&&(n.ui_element_location="adp_buy_card_free_download_start_cta"),n},nt=function(e,t){return{adp_interaction:"ADP_PnP_Button_Click",sku:e.standardLicense.minimum_sku,adp_selection:"Buy_Credits",ui_element_location:"adp_buy_card_download_error_"+t}},it=function(e,t){var n={sku:e.standardLicense.minimum_sku,adp_selection:"Download_Confirm",ui_element_location:t?"adp_extended_license_download_confirm_cta":"adp_buy_card_download_confirm_cta"};return e.freeFile&&(n.download_payment_source="free_download"),n},at=function(e){var t=it(e);return t.download_payment_source="redownload",t},rt=function(e,t){return{sku:Qe(e,t),adp_selection:Ze(e),ui_element_location:et(e,t.asset)}},st=function(e,t,n){var i;switch(t){case E.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION:case E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS:i="Asset_Unavailable_With_Plan";break;case E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING:i="Insufficient_Subscription_Downloads";break;case E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION:case E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES:i="Insufficient_Credits";break;case E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:i=n+"_Subscription"}return{adp_interaction:"ADP_Download_Error_Shown",sku:e.standardLicense.minimum_sku,adp_selection:i,ui_element_location:"adp_buy_card_download_error"}},ot=function(e){return void 0===e&&(e=!1),{adp_selection:e?"Buy_Credits":"Fast_Checkout_Option",ui_element_location:"adp_continue_to_checkout_button-extended_license_option"}},ct=function(e){return{adp_interaction:e,adp_selection:"ADP_Buy_N_Burn",ui_element_location:"adp_modal"}},lt=function(e){return e.user.premium_video_subscription_enabled},dt=function(e){var t;return null==(t=e.subscription)?void 0:t.include_video},ut=["AUT","DEU","GBR","USA"],_t=function(e){return lt(e)||ut.includes(e.user.country_code)?ft():mt(e)},pt=function(e){return e.asset.fromExtendedLicenseFastCheckout},mt=function(e){return e.calc.hasSelectedOptionalLicenses&&St(e.user.country_code)?'redirectToPricing({inGeoLocPricingTest: "'+St(e.user.country_code)+'"})':"redirectToPricing"},ft=function(){return"redirectToCreditPacks"},ht=function(){return"redirectToFastCheckoutWithPacksForExtLicence"},gt=function(e){var t,n;return(null==(t=e.asset)||null==(n=t.experiences)?void 0:n.extendedLicenseFastCheckout)&&!St(e.user.country_code)},vt=function(e){return!e.user.has_purchase_history&&(t=e.user.country_code,void 0===(n=["BRA"])&&(n=["AUT","BEL","BRA","DEU","IRL","NLD","CHE"]),n.includes(t)||wt(e));var t,n},wt=function(e){return St(e.user.country_code)||It(e)||Et(e)},St=function(e){return function(e){return["PER","IDN","COL"].includes(e)}(e)||function(e){return["RUS","THA","IND"].includes(e)}(e)||function(e){return["VNM","TUR","CHL","ARG","NGA","MYS","UKR"].includes(e)}(e)},It=function(e){return e.user.fast_checkout_sub||e.user.fast_checkout_sub_savings},Et=function(e){return e.user.pricing_clarity_flow&&e.calc.assetIsVideo},Tt={buildInsufficientCreditsHtmlTranslation:function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,i={zero:"<strong>",one:"</strong>",two:"<strong>",three:"</strong>",credit_cost:t,greaterthan1_credit_balance:n};return{tag:(e.calc.assetIsVideo?"video_":"image_")+(1===t?"insf_one_credit_cost":1===n?"insf_one_credit":"insf_credits"),translationVariables:i}},defaultCtaTitle:function(e){return e.asset.freeFile?"free_download_cta":vt(e)?"continue_to_checkout":pt(e)?"continue_with_download":e.calc.assetIsVideo?"download_this_video_clip":"download_this_image"},buildConfirmDownloadPaidByCreditsStep:function(e,t){void 0===t&&(t=!1);return{name:"PLACEHOLDER",title:null,ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",showCreditCost:!0,confirmSection:!e.calc.step.viewLicenseSelection,selectedAgreementType:F.CREDIT_PACK,isConfirmationState:!0,subsAvailable:!0,triggerTracking:function(){var n=e.user.team_leader,i=e.calc.userIsTeamUser,a=e.user.team_member&&e.calc.isTeamAccountSelected;return i&&!n&&(window.tracking_data.download_with_team_credits=a),Je(it(e.asset,t))()}}},buildMustBuyStep:function(e){return{name:"PLACEHOLDER_BUY_CREDITS_NAME",ctaTitle:"buy_credits",ctaClass:"primary-cta",ctaAction:_t(e)}},buildStepDetailsToShowDownloadChoices:function(e){var t=(dt(e)?"premium_video":function(e){var t,n;return null==(t=e.subscription)||null==(n=t.sku)?void 0:n.includes("PREM")}(e)?"premium":"basic")+"_subscription";return{showDownloadChoices:!0,showSubscriptionField:e.calc.selectedAccount===V.PERSONAL&&e.calc.hasSubscription,subTitleTranslation:t,subDownloadsTranslationValue:e.user.subsInfo.downloadsRemaining}},hasPremiumVideoSub:dt,isUsingTeamAccount:function(e){return e.user.team_member&&e.calc.isTeamAccountSelected},inGeoLocPricingTest:St,inFastCheckoutSub:It,inVideoPricingClarityTest:Et,inVideoPricingClarityPremiumVideoSub:function(e){return e.user.pricing_clarity_flow&&e.user.eligible_for_pricing_clarity_premium_video_subscription_flow},premiumVideoEnabled:lt,selfServeUpgradeEnabled:function(e){return e.user.self_serve_upgrade_enabled},ctaActionForExtLicenseFlow:function(e){return gt(e)?ht():_t(e)},ctaActionForIntiateDownload:function(e){return gt(e)&&!e.calc.hasAvailableCredits?ht():"initiateDownload"},redirectToFastCheckoutWithPacksForExtLicenceAction:ht,userFromExtLicenseFastCheckoutFlow:pt,extendedLicenseFlow:gt,extendedLicenseFastCheckoutCountries:ut,inMobileFCDefaultCreditsOptionTest:function(e){var t;return null==(t=e.experiences)?void 0:t.mobileRadioDefaultFCToCredits},inMobileSimplificationCtaTest:function(e){var t;return null==(t=e.experiences)?void 0:t.mobileSimplification}},Ct=function(e){return Tt.userFromExtLicenseFastCheckoutFlow(e)?"pickOptionalLicenses":"initiateDownload"},Nt=function(e,t){return void 0===t&&(t={}),Ge(e,{name:E.PICK_PAYMENT_OPTION,title:e.calc.assetCollectionName+"_collection",ctaClass:"super-cta",ctaTitle:Tt.defaultCtaTitle(e),ctaAction:Ct(e),showTshirtSizes:!0,confirmSection:!1,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,triggerTracking:function(){Je(tt(e.asset,e.calc.selectedAssetSize))()}},function(e){var t=e.calc.includedWithSubscription;return{showSubTypeMessage:t,showFileTypeDropdown:e.calc.assetIsVideo,showCreditCost:!t}}(e))},bt=function(e,t){void 0===t&&(t={});var n=e.asset;return Ge(e,{name:E.REDOWNLOAD_FOR_FREE,title:"previously_downloaded",ctaClass:"primary-cta",ctaTitle:"re-download_for_free",ctaAction:"createDownload",lightBlueWarning:!0,showTshirtSizes:!0,showFileTypeDropdown:!0,confirmSection:!1,persistentWarning:!0,completeSection:!1,viewLicenseSelection:e.calc.step.viewLicenseSelection,reasonForBox:n.isIllustration?"download_no_charge_illustration":n.isFilm?"download_no_charge_video":"download_no_charge_photo",warningBox:!0,triggerTracking:Je(at(e.asset))})},xt=Tt.inMobileFCDefaultCreditsOptionTest,yt=Tt.inVideoPricingClarityPremiumVideoSub,At=Tt.inMobileSimplificationCtaTest,Ot=Tt.inVideoPricingClarityTest,Dt=Tt.inFastCheckoutSub,kt=Tt.inGeoLocPricingTest,jt=Tt.defaultCtaTitle,Lt=E.PICK_PRICING_CLARITY_PAYMENT_OPTION,Rt="checkout",Pt="checkoutLargerCreditPack",Ft="checkoutSubscription",Mt=["DEU","BRA"],Ut=function(e){switch(!0){case At(e.asset):case xt(e.asset):return Rt;case yt(e):return Ft;case Ot(e):return Pt;case Dt(e):return Ft;case kt(e.user.country_code):case Mt.includes(e.user.country_code):return Rt;default:return"pricing"}},Bt=function(e,t){return e.calc.step.name!==Lt?Ut(e):function(e,t){return t||Ut(e)}(e,t.pricingOptionSelected)},zt=function(e){return'redirectToCheckout({cartItem: "'+(1===e.asset.standardLicense.credit_cost?"oneCredit":"moreThanOneCredit")+'"})'},Gt=function(e){return Dt(e)||Ot(e)?"super-cta super-cta--full-width":"super-cta"},Wt=function(e,t){var n=Bt(e,t),i=function(e,t){switch(t){case Rt:return{ctaTitle:jt(e),ctaAction:zt(e)};case Pt:return{ctaTitle:jt(e),ctaAction:"redirectToCheckout()"};case Ft:return{ctaTitle:jt(e),ctaAction:"redirectToFastCheckoutWithSubscription()"};default:return{ctaTitle:"download_method",ctaAction:"redirectToPricing({chooseSubscription: true})"}}}(e,n);return Ge(e,{name:Lt,title:e.calc.assetCollectionName+"_collection",ctaClass:Gt(e),ctaTitle:i.ctaTitle,ctaAction:i.ctaAction,showPricingClarity:!0,showCreditCost:!0,showFileTypeDropdown:e.calc.assetIsVideo,pricingOption:n,viewLicenseSelection:e.calc.step.viewLicenseSelection,triggerTracking:Je(rt(n,e))})},Ht=function(e,t){return void 0===t&&(t={}),(e=e.setIn(["calc","isInPricingClarity"],function(e){return e.user.pricing_clarity_flow}(e))).calc.isInPricingClarity&&(e=Wt(e,t)),e},Vt=function(e){return e=He(e),e=qe(e),(e=Ht(e)).calc.isInPricingClarity||(e=Nt(e)),e.calc.redownloadForFree&&(e=bt(e)),e},Yt=function(e){if(e.calc.step.name===E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION||e.calc.step.name===E.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS){var t,n,i=void 0,a=void 0;e.subscription&&(i=e.subscription.sku,a=e.subscription.status);var r=window.tracking_data.page_name;switch(a){case"Suspended":e.subscription.can_unsuspend?(t="Unsuspend_Subscription_Notification_Dismiss",n=window.tracking_data.page_name,r="adp_unsuspend_subscription_message"):(t="Subscription_Suspended_Notification_Dismiss",n="adp_subscription_suspended_message");break;case"Expired":t="Account_Subscription_Expired_Warning_Dismiss",n="adp_subscription_expired_message"}t&&n&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:t,account_selection:r,sku:i,ui_element_location:n})}},Kt=function(e,t){return Yt(e),e=Ae(e,t),e=He(e),e=qe(e),(e=Ht(e)).calc.isInPricingClarity||(e=Nt(e)),e.calc.redownloadForFree&&(e=bt(e)),e},qt=function(e,t){return e=e.mergeIn(["user"],{credit_amount:Math.max(0,t.personalCredits||0),team_credits:Math.max(0,t.teamCredits||0)}),e=Pe(e,{selectedAccountName:e.calc.selectedAccount})},Jt=function(e,t){var n=Tt.extendedLicenseFlow(e)&&!e.calc.hasAvailableCredits;return e=Ge(e,{name:E.INITIATE_DOWNLOAD_AND_SELECT_LICENCES_STEP,title:e.calc.assetCollectionName+"_collection",ctaTitle:Tt.defaultCtaTitle(e),ctaClass:"super-cta",ctaAction:Tt.ctaActionForIntiateDownload(e),extendedLicenseFlow:n,showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0,triggerTracking:function(){n?Je(ot())():Je(tt(e.asset,e.calc.selectedAssetSize))()}})},Zt=function(e,t){return Ge(e,{name:E.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showCreditCost:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled})},Qt=function(e,t){return Ge(e,{name:E.COMPLETE_DOWNLOAD,title:"thank_you_plain",hideDownloadButton:!0,confirmSection:!1,completeSection:!0,showTshirtSizes:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,purchaseExtendedLicenseNotAllowed:!0,dropboxEnabled:t.dropboxEnabled})},Xt=function(e,t){var n=E.PURCHASE_AND_SELECT_LICENCES_STEP,i=Tt.extendedLicenseFlow(e);return e=Ge(e,{name:n,title:e.calc.assetCollectionName+"_collection",ctaTitle:Tt.defaultCtaTitle(e),ctaClass:"super-cta",extendedLicenseFlow:i,ctaAction:Tt.ctaActionForExtLicenseFlow(e),showAccountChoices:!1,showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,viewLicenseSelection:!0,triggerTracking:function(){i?Je(ot())():Je({adp_interaction:"ADP_PnP_Button_Click",adp_selection:"ADP_PnP_Button_Option",ui_element_location:"adp_buy_card_extended_license_view_plans_and_pricing_button"})()}})},$t=function(e,t){var n=e.licenses.getIn([t.licenseIndex,"is_selected"]);return e=(e=e.setIn(["licenses",t.licenseIndex,"is_selected"],!n)).setIn(["calc","hasSelectedOptionalLicenses"],he(e)),(e=Ke(e)).calc.step.viewLicenseSelection&&(e=e.calc.isInPricingClarity?Xt(e):Jt(e)),e},en=function(e,t){return function(){if("undefined"==typeof s||null===s)return!1;s.linkTrackEvents+=",event198",s.events+=",event198";var n=$.siteCatalyst.pageTrackingVariables(),i=$.extend({},n);return i.eVar62=!0,s.linkTrackVars+=$.map(i,(function(e,t){return t})).join(","),e&&(s.eVar62=t?"Leader Download":"Member Download"),s.tl(!0,"o","Download Image")}},tn=function(e){return Ge(e,{name:E.FREE_ADMIN_DOWNLOAD,title:"Free admin download",ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!1,selectedAgreementType:F.EASY_ACCESS,triggerTracking:en(e.calc.userIsTeamUser,e.user.isTeamLeader)})},nn=function(e,t){var n=t.subscription.isEssentials||t.subscription.isSignature;return e=e.mergeIn(["calc"],{hasSubscription:n,isSubscriptionDownloadAllowed:n&&t.includedWithSubscription&&t.subscription.downloadsRemaining>0})},an=function(e){var t,n,i,a;return e.calc.assetIsImage&&(n=e.asset,a=n.sizes,t=n.hasEpsFileSize?a.get(n.epsFileSizeIndex):null!=(i=a.last())&&i.epsUnavailable?a.pop().last():a.last()),e=e.setIn(["calc","largestSizeAvailable"],t)},rn=function(e,t){var n=t.asset,i=t.user,a=t.preferredDownloadSize,r=t.preferredEpsDownloadSize,s=t.preventGatewaySrp,o=t.localePhoneNumber,c=t.countryLanguagePrefix,l=t.visitorExperiences,d=t.buyCardData;n.sizes=n.sizes||[];var u=(e=e.merge({asset:N.fromJS(n),buyCardData:N.fromJS(d),licenses:N.fromJS([n.standardLicense]),user:N.fromJS(i),visitorExperiences:N.fromJS(l)})).calc.withMutations((function(e){e.merge(function(e,t){return nn(C().Map({calc:C().Map()}),{subscription:t.subsInfo,includedWithSubscription:!1}).toJS().calc}(0,i));var t=g.getAssetCollectionName(n);return e.merge({assetCollectionName:g.getAssetCollectionName(n),assetCollectionIsSignature:g.isSignature(t),assetIsIllustration:"illustration"===n.mediaType,assetIsImage:"image"===n.assetType,assetIsVideo:"film"===n.assetType,localePhoneNumber:o,countryLanguagePrefix:c,preventGatewaySrp:s,userIsTeamUser:i.team_member||i.team_leader,hasSubscription:e.hasSubscription})}));return e=function(e){return Pe(e)}(e=e.set("calc",u)),e=Ke(e),e=Vt(e),e=an(e),De(e,{preferredDownloadSize:a,preferredEpsDownloadSize:r})},sn=function(e,t){return e=Ht(e,{togglePricingOption:!0,pricingOptionSelected:t.pricingOptionSelected})},on=function(e,t){return e=e.set("redirectToUrl",t.url)},cn=function(e,t){var n=t.licenses||[];return e=(e=e.set("licenses",N.fromJS(n))).setIn(["calc","optionalLicenseIndexes"],N.fromJS(function(e){return e.map((function(e,t){return"Standard"!==e.license_type?t:null})).filter((function(e){return null!==e}))}(n))),e=e.setIn(["calc","hasSelectedOptionalLicenses"],he(e)),e=(e=Ke(e)).calc.isInPricingClarity?Xt(e):Jt(e)},ln=function(e,t){return e.user.authenticated||(e.asset.freeFile?e=e.set("redirectToUrl","/sign-in?returnurl="+window.location.pathname+window.location.search+"&is_video="+e.calc.assetIsVideo):(e.user.remembered||e.user.has_purchase_history)&&(e=e.set("redirectToUrl","/sign-in?returnurl="+window.siteMap.download_balance_check+"?url="+window.location.pathname+window.location.search+"&is_video="+e.calc.assetIsVideo))),e};var dn=function(e){if(e.subscription){switch(e.subscription.status){case y.paused:case y.suspended:case y.expired:return!0}return!1}},un={};un[y.suspended]=function(e){var t,n;e.subscription.can_unsuspend?(t="Unsuspend_Subscription_Notification_Shown",n="adp_unsuspend_subscription_message"):(t="Subscription_Suspended_Notification_Shown",n=window.tracking_data.page_name);window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:t,account_selection:n,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})},un[y.paused]=function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Paused_Notification_Shown",account_selection:window.tracking_data.page_name,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})},un[y.expired]=function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Account_Subscription_Expired_Warning_Shown",account_selection:window.tracking_data.page_name,sku:e.subscription.sku,ui_element_location:window.tracking_data.page_name})};var _n=function(e){if(e.subscription){var t=un[e.subscription.status];t&&t(e)}},pn=function(e){var t=e.calc.assetCollectionName+"_download";return Ge(e,{name:E.SELECT_ACCOUNT_TYPE,title:t,ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:F.ROYALTY_FREE_SUBSCRIPTION,isConfirmationState:!0,triggerTracking:function(){var t=e.user.team_leader,n=e.calc.userIsTeamUser,i=e.user.team_member&&e.calc.isTeamAccountSelected;return n&&!t&&(window.tracking_data.download_with_team_credits=i),Je(it(e.asset))()}},Tt.buildStepDetailsToShowDownloadChoices(e))};var mn=function(){return{tag:"contact_your_administrator"}},fn=function(e){return Ge(e,{name:E.TEAM_MEMBER_MUST_ASK_TEAM_ADMIN_TO_GRANT_MORE_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:Tt.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,showSubTypeMessage:!1,hideDetails:!0,hideDownloadButton:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:mn()})},hn=function(e){return Ge(e,{name:E.CONFIRM_REDOWNLOAD_FOR_FREE,title:"re_download_for_free",ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!1,redownloadSection:!0,showExtendedLicenses:!1,showSubTypeMessage:!1,showFileTypeDropdown:!1,isConfirmationState:!0,triggerTracking:Je(at(e.asset))})},gn=function(e){return Ge(e,{name:E.TEAM_ACCOUNT_OUT_OF_CREDITS,title:"you_need_credits",warningBox:!0,additionalInfoHtml:Tt.buildInsufficientCreditsHtmlTranslation(e),showCreditCost:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,warningCta:mn()})},vn=function(e){return Ge(e,{name:E.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_SINCE_INSUFFICIENT_CREDITS_REMAINING,title:e.calc.assetCollectionName+"_download",hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,selectedAgreementType:F.ROYALTY_FREE_SUBSCRIPTION,showCreditCost:!1,creditsAvailable:!1,ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!e.calc.step.viewLicenseSelection,isConfirmationState:!0,subsAvailable:!0,triggerTracking:Je(it(e.asset))},Tt.buildStepDetailsToShowDownloadChoices(e))},wn=function(e){return Ge(e,{name:E.CONFIRM_DOWNLOAD_BY_SUBSCRIPTION_WITH_SUFFICIENT_DOWNLOADS_REMAINING,title:e.calc.assetCollectionName+"_download",ctaTitle:"confirm_download",ctaClass:"primary-cta",ctaAction:"createDownload",confirmSection:!0,isConfirmationState:!0,selectedAgreementType:F.ROYALTY_FREE_SUBSCRIPTION,triggerTracking:Je(it(e.asset))},function(e){var t=e.calc.includedWithSubscription;return e.calc.assetIsVideo,{showSubTypeMessage:t,showCreditCost:!t}}(e))},Sn=function(e){return Ge(e,Tt.buildConfirmDownloadPaidByCreditsStep(e,!0),{name:E.CONFIRM_DOWNLOAD_WITH_EXTENDED_LICENSES_PAID_BY_CREDITS,viewLicenseSelection:!0})},In=function(e){return Ge(e,Tt.buildConfirmDownloadPaidByCreditsStep(e),{name:E.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_NO_SUBSCRIPTION_EXISTS,title:void 0,focusView:!0,paymentSelect:!0})},En=function(e){var t=Tt.premiumVideoEnabled(e)?"image_not_available_with_subscription":"image_only_with_sig_or_credits";return Ge(e,Tt.buildConfirmDownloadPaidByCreditsStep(e),{name:E.CONFIRM_DOWNLOAD_OF_SIGNATURE_IMAGE_BY_CREDITS_SINCE_SUBSCRIPTION_IS_FOR_ESSENTIALS,title:e.calc.assetCollectionName+"_download",reasonForBox:t,warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},Tt.buildStepDetailsToShowDownloadChoices(e))},Tn=function(e){var t=Tt.hasPremiumVideoSub(e),n="look_no_downloads_"+e.calc.assetCollectionName+(t&&e.calc.assetIsVideo?"_video":"");return Ge(e,Tt.buildConfirmDownloadPaidByCreditsStep(e),{name:E.CONFIRM_DOWNLOAD_BY_CREDITS_SINCE_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING,title:e.calc.assetCollectionName+"_download",reasonForBox:n,warningBox:!0,hideDetails:!0,showDownloadChoices:!0,showCreditCost:!1,confirmSection:!1,subsAvailable:!1},Tt.buildStepDetailsToShowDownloadChoices(e))},Cn=function(){return"urls.plans_and_pricing_video"},Nn=function(){return"urls.plans_and_pricing_images"},bn={getPricingRoute:function(e){return e?Cn():Nn()},getDefaultPnpRoute:function(){return"urls.plans_and_pricing_subscriptions"},getPnpCreditsRoute:function(){return"urls.plans_and_pricing_credit_packs"},getAnnualSelfUpgradeRoute:function(){return"urls.plans_and_pricing_self_serve"}},xn=function(e){return void 0===e&&(e={}),function(){null!=window.combinedGtmTracking&&window.combinedGtmTracking.gtmPushTracking("adpInteraction",{adp_interaction:"ADP_PnP_Button_Click",adp_selection:e.adp_selection,sku:e.sku,ui_element_location:e.ui_element_location})}},yn=function(e){var t,n=Tt.premiumVideoEnabled(e),i=Tt.selfServeUpgradeEnabled(e),a=n&&"OneYear"===e.subscription.duration,r=a?"video_not_available_with_subscription":"video_not_available_with_subscription_no_link",s=null;return a&&(s=i?bn.getAnnualSelfUpgradeRoute():bn.getDefaultPnpRoute()),Ge(e,Tt.buildConfirmDownloadPaidByCreditsStep(e),{name:E.CONIFRM_DOWNLOAD_BY_CREDITS_WITH_NOTICE_THAT_FILE_UNSUPPORTED_BY_SUBSCRIPTION,title:e.calc.assetCollectionName+"_download",warningBox:!0,reasonForBox:n?r:"video_only_with_credits",reasonForBoxLink:s,triggerTracking:xn((t=e.asset,{adp_selection:"Upgrade_to_Premium_Plus_Video_Sub",ui_element_location:"adp_buy_card_download_error_asset_unavailable_with_plan",sku:t.standardLicense.minimum_sku})),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,subsAvailable:!1,confirmSection:!1},Tt.buildStepDetailsToShowDownloadChoices(e))},An=function(e){return Ge(e,Tt.buildConfirmDownloadPaidByCreditsStep(e),{name:E.CONFIRM_DOWNLOAD_BY_TEAM_CREDITS,title:"confirm_download_team_account",confirmSection:!0,showTshirtSizes:!1,showCreditCost:!0,showSubTypeMessage:!1,showFileTypeDropdown:!1,selectedAgreementType:F.CREDIT_PACK,isConfirmationState:!0,selectedAccount:V.TEAM})};var On=function(){return{tag:"view_details_cta",url:window.siteMap.cleanRelativePath("/account")}},Dn={};Dn[y.suspended]=function(e){var t="your_subscription_suspended";if(e.subscription.can_unsuspend){var n="/purchase/subscriptions/"+e.subscription.sku+"?unsuspend=true";return{additionalInfoHtml:{tag:"please_pay_your_outstanding_balance_to_continue_using_your_subscription"},reasonForBox:t,warningMessageClass:"warning-message--can-unsuspend",warningCta:{ctaClass:"warning-cta--can-unsuspend",tag:"pay_now",url:n}}}return{additionalInfoHtml:{tag:"download_subscription_phone",translationVariables:{phoneNumber:e.calc.localePhoneNumber}},reasonForBox:t}},Dn[y.paused]=function(e){return{additionalInfoHtml:{tag:"it_will_automatically_resume_on",translationVariables:{zero:"<strong>",resumeDate:new Date(e.subscription.resumed_date).toLocaleDateString(),one:"</strong>"}},reasonForBox:"your_subscription_paused",warningCta:On()}},Dn[y.expired]=function(e){return{additionalInfoHtml:{tag:"your_subscription_has_expired"},warningClass:"expired-message",warningCta:{url:window.siteMap.cleanRelativePath("/account"),tag:"renew_today"}}};var kn=function(e){if(e.subscription){var t=Dn[e.subscription.status];return t?t(e):null}},jn=function(e){var t=(e.subscription||{}).downloads_remaining||0,n=(Tt.hasPremiumVideoSub(e)?"premium_video":e.calc.assetCollectionName)+"_subscription",i=Object.assign({name:E.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS,title:e.calc.assetCollectionName+"_download",focusView:!0,paymentSelect:!0,warningBox:!0,showDownloadChoices:!0,subsAvailable:!1,showSubscriptionField:!0,showCreditCost:!1,confirmSection:!1,subTitleTranslation:n,subDownloadsTranslationValue:t},kn(e));return Ge(e,Tt.buildConfirmDownloadPaidByCreditsStep(e),i)},Ln=Tt.premiumVideoEnabled,Rn=Tt.hasPremiumVideoSub,Pn=Tt.buildInsufficientCreditsHtmlTranslation,Fn=function(e){return function(e){return e.calc.assetIsVideo&&Ln(e)&&!Rn(e)}(e)?function(e){var t=e.calc.totalCreditCost,n=e.calc.selectedAccountCredits,i=Pn(e);return{tag:"premium_"+i.tag,translationVariables:Object.assign({},i.translationVariables,{credit_cost:t-n})}}(e):Pn(e)},Mn=function(e){var t=Tt.premiumVideoEnabled(e),n=Tt.selfServeUpgradeEnabled(e),i="OneYear"===e.subscription.duration,a=n?bn.getAnnualSelfUpgradeRoute():bn.getDefaultPnpRoute(),r=t&&i&&{id:"upgrade-to-premium",href:a},s=t?"video_not_available_with_subscription_no_link":"video_only_with_credits",o=Tt.isUsingTeamAccount(e)?mn():null,c=Fn(e),l=E.MUST_BUY_CREDITS_FOR_FILE_UNSUPPORTED_BY_SUBSCRIPTION;return Je(st(e.asset,l))(),t&&(i||(c.tag=c.tag+"_you_can_download"),r&&(c.tag=c.tag+"_link")),Ge(e,Tt.buildMustBuyStep(e),{name:l,title:e.calc.assetCollectionName+"_download",warningBox:!0,reasonForBox:s,additionalInfoHtml:c,additionalInfoHtmlLink:r,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Tt.isUsingTeamAccount(e),showCreditCost:!0,warningCta:o,triggerTracking:Je(nt(e.asset,"asset_not_available_with_sub"))})},Un=function(e){var t=Tt.premiumVideoEnabled(e),n=t?"image_not_available_with_subscription":"image_only_with_sig_or_credits",i=Tt.isUsingTeamAccount(e)?mn():null,a=E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_IS_FOR_ESSENTIALS;Je(st(e.asset,a))();var r=Fn(e);if(t){var s=e.calc.totalCreditCost,o=e.calc.selectedAccountCredits;r.tag=1==o?"premium_video_insf_one_credit_you_can_download":"premium_video_insf_credits_you_can_download",r.translationVariables=Object.assign({},r.translationVariables,{credit_cost:s-o})}return Ge(e,Tt.buildMustBuyStep(e),{name:a,title:e.calc.assetCollectionName+"_collection",showCreditCost:!0,warningBox:!0,reasonForBox:n,additionalInfoHtml:r,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Tt.isUsingTeamAccount(e),warningCta:i,triggerTracking:Je(nt(e.asset,"insufficient_credits_essentials_sub"))})},Bn=function(e){var t=function(e){if(e.subscription)switch(e.subscription.status){case y.paused:return y.paused;case y.suspended:return y.suspended;case y.expired:return y.expired}}(e)||"blocked",n=E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION;Je(st(e.asset,n,t))();var i=Object.assign({name:n,title:e.calc.assetCollectionName+"_download",ctaTitle:"buy_credits",ctaClass:"primary-cta",ctaAction:"redirectToPricing",warningBox:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Tt.isUsingTeamAccount(e),triggerTracking:Je(nt(e.asset,t.toLowerCase()+"_sub"))},kn(e));return Ge(e,i)},zn=function(e){var t,n=Tt.premiumVideoEnabled(e),i=e.calc.assetIsVideo,a=E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION;return Je(st(e.asset,a))(),Ge(e,Tt.buildMustBuyStep(e),{name:E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_NO_SUBSCRIPTION,title:"you_need_credits",showExtendedLicenses:!1,warningBox:!0,showCreditCost:!0,additionalInfoHtml:Fn(e),focusView:!0,hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,triggerSubscribeTracking:xn((t=e.asset,{adp_selection:"ADP_Subscribe_Button_Option",ui_element_location:"adp_buy_card_download_error_insufficent_credits",sku:t.standardLicense.minimum_sku})),showSubscribeToPremiumVideo:n&&i,ctaClass:n&&i?"hollow-cta":"primary-cta",triggerTracking:Je(nt(e.asset,"insufficient_credits_no_sub"))})},Gn=function(e){var t=Tt.isUsingTeamAccount(e)?mn():null,n=E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_SUBSCRIPTION_HAS_INSUFFICIENT_DOWNLOADS_REMAINING;return Je(st(e.asset,n))(),Ge(e,Tt.buildMustBuyStep(e),{name:n,title:"out_of_downloads",warningBox:!0,reasonForBox:"looks_like_no_downloads",additionalInfoHtml:Fn(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,hideDownloadButton:Tt.isUsingTeamAccount(e),warningCta:t,triggerTracking:Je(nt(e.asset,"insufficient_sub_downloads"))})},Wn=function(e){var t=E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAIN_TO_BUY_EXTENDED_LICENSES;Je(st(e.asset,t))();var n=Tt.extendedLicenseFlow(e);return Ge(e,Tt.buildMustBuyStep(e),{name:t,title:"you_need_credits",warningBox:!0,showCreditCost:!0,showSubTypeMessage:!1,extendedLicenseFlow:n,additionalInfoHtml:Tt.buildInsufficientCreditsHtmlTranslation(e),hideDetails:!0,purchaseExtendedLicenseNotAllowed:!0,ctaAction:Tt.ctaActionForExtLicenseFlow(e),triggerTracking:function(){n?Je(ot(!0))():Je(nt(e.asset,"insufficient_credits_extended_license"))()}})},Hn=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&e.calc.isSubscriptionDownloadAllowed},Vn=function(e){return e.calc.hasSubscription&&e.calc.includedWithSubscription&&!e.calc.isSubscriptionDownloadAllowed},Yn=function(e,t){if(!e.calc.hasSelectedOptionalLicenses){if(e.asset.freeFile)return wn(e);if(e.calc.redownloadForFree)return hn(e)}if(e.user.team_member){if(!e.user.has_purchase_history)return(e=Pe(e,{selectedAccountName:V.TEAM})).calc.selectedAccountHasEnoughCredits?An(e):gn(e);if(!e.calc.selectedAccount)return We(e);if(e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits)return gn(e)}return e.calc.selectedAccount||(e=Pe(e,{selectedAccountName:V.PERSONAL})),e.calc.hasSelectedOptionalLicenses?e.calc.selectedAccountHasEnoughCredits?Sn(e):e.user.team_member&&e.calc.isTeamAccountSelected?fn(e):Wn(e):dn(e)?(_n(e),e.calc.selectedAccountHasEnoughCredits?jn(e):Bn(e)):!e.calc.hasSubscription&&e.user.team_member&&e.calc.isTeamAccountSelected&&!e.calc.selectedAccountHasEnoughCredits?gn(e):e.calc.selectedAccountHasEnoughCredits&&Hn(e)?pn(e):e.calc.selectedAccountHasEnoughCredits&&Vn(e)?Tn(e):e.calc.selectedAccountHasAnyCredits&&!e.calc.selectedAccountHasEnoughCredits&&Hn(e)?vn(e):!e.calc.assetIsVideo&&e.calc.assetCollectionIsSignature&&e.user.subsInfo.isEssentials?e.calc.selectedAccountHasEnoughCredits?En(e):Un(e):!e.calc.selectedAccountHasEnoughCredits&&Vn(e)?Gn(e):e.calc.assetIsVideo&&e.calc.hasSubscription&&!Tt.hasPremiumVideoSub(e)?e.calc.selectedAccountHasEnoughCredits?e.calc.isTeamAccountSelected?In(e):yn(e):Mn(e):e.calc.hasSubscription?e.calc.selectedAccountHasEnoughCredits||Hn(e)?wn(e):zn(e):e.calc.selectedAccountHasEnoughCredits?In(e):zn(e)},Kn=function(e,t){return e=e.mergeIn(["user","subsInfo"],N.fromJS(t)),e=nn(e,{subscription:t,includedWithSubscription:e.calc.includedWithSubscription})},qn=function(e){var t;if(!e.asset.freeFile&&!e.calc.redownloadForFree&&!e.user.team_member&&!e.calc.selectedAccountHasAnyCredits&&!e.calc.hasSubscription&&!dn(e)){var n=(t=e.user,!(!e.calc.assetIsVideo&&window.visitorExperiences.isActive("AssetCarryingPnP")&&t.user_eligible_for_repurchase&&!window.visitorExperiences.isOfferActive("AssetCarryingPnP","Test","Control"))&&function(e){return Tt.premiumVideoEnabled(e)&&e.calc.assetIsVideo}(e)),i=n?bn.getDefaultPnpRoute():bn.getPricingRoute(e.calc.assetIsVideo);e=e.set("redirectToUrl",i)}return e},Jn=function(e,t){var n=t.agreementOverview||{};if(null!=(null!=n.credit_pack_agreement?n.credit_pack_agreement.credits_available:void 0)&&(e=qt(e,{personalCredits:n.credit_pack_agreement.credits_available||0})),(null!=n.royalty_free_subscription_agreements?n.royalty_free_subscription_agreements.length:void 0)>0){var i=n.royalty_free_subscription_agreements[0];if(null!=i.download_count&&null!=i.download_limit&&null!=i.name){var a=function(e){var t=e.name||"",n=e.download_count||0,i=e.download_limit||0;return{isSignature:g.isSignature(t),isEssentials:g.isEssentials(t),downloadedCount:n,downloadLimit:i,downloadsRemaining:i-n,autoRenews:!!e.is_auto_renewal,daysUntilExpiry:e.days_until_product_expires||0}}(i);e=Kn(e,a)}}return e=qn(e)},Zn=function(e,t){return e=e.mergeIn(["calc"],{buyAndBurnDownload:t.buyAndBurnDownload})},Qn={};Qn[x.INITIALIZE]=rn,Qn[x.GO_TO_BEGINNING]=Vt,Qn[x.CANCEL_AND_BACK_TO_BEGINING]=Kt,Qn[x.SELECT_ASSET_SIZE]=De,Qn[x.SET_CTA_IN_PROGRESS]=pe,Qn[x.GO_TO_NEXT_STEP]=Yn,Qn[x.SET_AGREEMENTS]=Ae,Qn[x.SET_TOASTER]=me,Qn[x.SET_BUY_AND_BURN_DOWNLOAD]=Zn,Qn[x.SELECT_AGREEMENT_TYPE]=Re,Qn[x.SET_LICENSES]=cn,Qn[x.GO_TO_FREE_ADMIN_DOWNLOAD]=tn,Qn[x.CHECK_LICENSE]=$t,Qn[x.SET_AVAILABLE_CREDITS]=qt,Qn[x.GO_TO_COMPLETE_DOWNLOAD]=Zt,Qn[x.GO_TO_COMPLETE_REDOWNLOAD]=Qt,Qn[x.SET_SELECTED_ACCOUNT]=Pe,Qn[x.SELECT_PRICING_CLARITY_OPTION_TOGGLE]=sn,Qn[x.FETCH_USER_AGREEMENT_OVERVIEW_RESPONDED]=Jn,Qn[x.SET_DISPLAY_ERROR]=_e,Qn[x.SET_REDIRECT_BEFORE_INITIATING_DOWNLOAD]=ln,Qn[x.REDIRECT_TO_URL]=on,Qn[x.SET_DOWNLOAD_DATA]=Fe,Qn[x.SELECT_ACCOUNT_STEP]=We,Qn[x.GO_TO_INITIATE_DOWNLOAD_AND_SELECT_LICENSES_STEP]=Jt,Object.freeze(Qn);var Xn=function(e,t){void 0===e&&(e=b);var n=Qn[t.type];return n?n(e,t):e};function $n(e,t){return e}var ei=(0,le.U)({agreements:$n,asset:$n,buyCardData:$n,calc:$n,displayError:$n,downloadData:$n,licenses:$n,redirectToUrl:$n,searchBar:de.VZ,subscription:ue,user:$n,visitorExperiences:$n}),ti=function(e,t){return void 0===e&&(e=b),e=Xn(e,t),e=ei(e,t)},ni=n(85893),ii=function(e,t){var n=function(e){return Object.assign({},e,{asset:p.formatAsset(e.asset),user:I.formatUser(e.userDetails),preferredDownloadSize:p.getPreferredSize(),preferredEpsDownloadSize:p.getEpsPreferredSize()})}(t),i=n.asset,a=n.user,r=n.preferredDownloadSize,s=n.preferredEpsDownloadSize,o=n.preventGatewaySrp,c=n.localePhoneNumber,l=n.visitorExperiences,d=n.buyCardData,u=n.countryLanguagePrefix;e.dispatch(ce.initializeDataStep(i,a,r,s,o,c,l,d,u))},ai=function(e){var t=e.state,n=e.children,i=e.testRecorder,a=(0,o.Z)(ti,b);return i&&(i.getState=function(){return a.getState()}),ii(a,t),(0,ni.jsx)(r.zt,{store:a,children:n})},ri="InlinePurchaseConfirmation-module__inlinePurchaseContainer___KTsgh",si="InlinePurchaseConfirmation-module__hidden___ykjjP",oi="InlinePurchaseConfirmation-module__invoice___pAwqY",ci=n(39655),li=function(){var e=(0,ci.useTranslations)(),t=(0,r.v9)((function(e){return e.asset})),n=t.isImage,a=t.fromExtendedLicenseFastCheckout,s=t.orderId,o=(0,i.useMemo)((function(){var t=n?"image":"video",i=a?[e("thank_you_step_one_"+t),e("thank_you_step_two"),e("thank_you_step_three_"+t)]:[e(t+"_purchase_desired_size"),e(t+"_purchase_download"),e(t+"_purchase_locate",{zero:s,links:["/account"]})];return(0,ni.jsx)("ol",{"data-testid":a?"el-fc-"+t+"-steps":"thank-you-"+t+"-steps",children:i.map((function(e,n){return a||2!==n?(0,ni.jsx)("li",{children:e},t+"-"+n):(0,ni.jsx)("li",{dangerouslySetInnerHTML:{__html:e}},t+"-"+n)}))})}),[a,n,s]);return(0,ni.jsxs)("div",{className:"confirmation-text",children:[(0,ni.jsx)("h2",{className:"main-thanks","data-testid":"main-thanks",children:e(a?"thank_you_almost_there":"asset_purchase_thank_you")}),o,(0,ni.jsx)("p",{className:oi,"data-testid":"invoice",dangerouslySetInnerHTML:{__html:a?e("thank_you_email_confirm",{order_number:s,links:["/account"]}):e("invoice_available_time",{zero:"</a><b>",one:"</b>",links:["/account"]})}})]})},di=function(){var e=(0,i.useState)(!1),t=e[0],n=e[1],a=t?si:"";return(0,ni.jsxs)("section",{className:"inline-purchase "+a,id:ri,children:[(0,ni.jsxs)("div",{className:"confirmation",children:[(0,ni.jsx)("div",{className:"close-button",id:"close-inline-purchase",onClick:function(){return n(!0)}}),(0,ni.jsx)(li,{})]}),t?null:(0,ni.jsx)("div",{className:"grey-out",onClick:function(){return n(!0)}})]})},ui=n(45697),_i=((0,ui.shape)({id:ui.string,assetId:ui.string,isImage:ui.bool,is360image:ui.bool,editable:ui.bool,editableInVideoEditor:ui.bool,assetType:ui.string,isIstockExclusive:ui.bool,isEditorialUseOnly:ui.bool,videoEditorPath:ui.string,editorPath:ui.string,metaTags:(0,ui.shape)({seoAlt:ui.string,seoCaption:ui.string,seoFilmAlt:ui.string,seoImageTitle:ui.string}),assetDimensions:(0,ui.shape)({height:ui.number,width:ui.number}),mainImageUrl:ui.string,defaultMainImageURL:ui.string,largeMainImageURL:ui.string,filmCompUrl:ui.string,orientation:ui.string,galleryComp1024Url:ui.string,galleryHighResCompUrl:ui.string,ratio:ui.number}),n(16584)),pi="BoardToolbox-module__component___YVWDf",mi=function(){var e=(0,r.v9)((function(e){return e.asset}));return(0,ni.jsx)("div",{className:pi,"data-testid":"board-toolbox",children:(0,ni.jsx)(_i.IstockBoardButton,{asset:Object.assign({},e.toJSON(),{id:e.assetId,family:e.assetFamily,quality:e.assetQuality}),uiLocation:"adp_icon",testId:"boards-button"})})},fi=function(){var e=(0,r.v9)((function(e){return e.asset})),t=e.assetDimensions.width,a=e.assetDimensions.height,s=e.galleryComp1024Url,o=e.galleryHighResCompUrl,c=e.metaTags.seoAlt,l=e.metaTags.seoImageTitle,d=e.metaTags.seoFilmAlt;function u(){var e,t=this.parentNode,n=arguments.length;if(t)for(n||t.removeChild(this);n--;)"object"!=typeof(e=arguments[n])?e=this.ownerDocument.createTextNode(e):e.parentNode&&e.parentNode.removeChild(e),n?t.insertBefore(e,this.nextSibling):t.replaceChild(e,this)}return(0,i.useEffect)((function(){document.querySelector("body").classList.add("vr-asset"),Element.prototype.replaceWith||(Element.prototype.replaceWith=u),CharacterData.prototype.replaceWith||(CharacterData.prototype.replaceWith=u),DocumentType.prototype.replaceWith||(DocumentType.prototype.replaceWith=u),function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}()&&(!function(){var e=document.querySelector(".vr-image"),t=e.clientHeight,n=document.createElement("div");n.classList.add("viewer_360_image"),n.setAttribute("data-testid","panorama-image"),n.setAttribute("style","height: "+t+"px"),n.id="panorama-image",n.alt=d,e.replaceWith(n)}(),n.e(4933).then(n.t.bind(n,29470,23)).then((function(){return window.pannellum.viewer("panorama-image",{type:"equirectangular",autoLoad:!0,autoRotate:-1,hfov:120,showZoomCtrl:!0,showFullscreenCtrl:!0,preview:s,panorama:o})})))}),[]),(0,ni.jsxs)("section",{className:"preview "+(e.is360image&&"viewer-360-container"),children:[(0,ni.jsx)(mi,{}),(0,ni.jsx)("img",{className:"vr-image viewer_360_image",width:t,height:a,src:s,alt:c,title:l,"data-preview":s,"data-ratio":e.ratio,"data-alt":d,style:{maxWidth:t+"px",maxHeight:a+"px"}})]})},hi=function(e){var t=e.asset,n=t.assetDimensions,a=n.width,r=n.height,s=t.isImage,o=t.is360image,c=t.mainImageUrl,l=t.defaultMainImageURL,d=t.largeMainImageURL,u=t.filmCompUrl,_=t.orientation,p=t.metaTags,m=p.seoImageTitle,f=p.seoAlt,h=e.trackClick,g=(0,i.useMemo)((function(){return function(e,t,n){return"Vertical"===n?e>t?{width:t,height:e}:{width:e,height:t}:{width:"100%",height:"auto"}}(a,r,_)}),[a,r,_]);return o?(0,ni.jsx)(fi,{}):s?(0,ni.jsx)("img",{"data-testid":"image-asset",height:r,width:a,srcSet:c+" 6000w, "+l+" 6001w, "+d+" 6002w",sizes:"100vw",src:l,alt:f,title:m,style:{maxWidth:a+"px",maxHeight:r+"px"},onClick:h,onContextMenu:h}):(0,ni.jsx)("video",{"data-testid":"video-asset",style:{width:g.width,height:g.height},role:"video",src:u,alt:f,controls:"controls",controlsList:"nodownload",autoPlay:!0,loop:!0})},gi="ZoomImageCard-module__zoom__container___MaXbG",vi="ZoomImageCard-module__zoom__image___FG7Eq",wi="ZoomImageCard-module__zoom__close___P0GDk",Si=["styles"];function Ii(){return Ii=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ii.apply(this,arguments)}var Ei=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Si);return a().createElement("svg",Ii({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 98 98"},t),a().createElement("path",{d:"M78.2 23.3L75 20.1 48.7 46.4 22.5 20.1l-3.3 3.2 26.3 26.3-27.2 27.2 3.2 3.3 27.2-27.3L76 80.1l3.2-3.3L52 49.6l26.2-26.3z"}))},Ti=function(e){var t=e.show,n=e.closeModal,i=e.trackClick,a=(0,r.v9)((function(e){return e.asset})),s=a.zoomedImageUrl,o=a.metaTags,c=o.seoAlt,l=o.seoImageTitle;return t?(0,ni.jsxs)("div",{onClick:n,className:gi,children:[(0,ni.jsx)("img",{id:"zoom-image",role:"img",src:s,alt:c,title:l,className:vi,onClick:i,onContextMenu:i}),(0,ni.jsx)("div",{className:wi,onClick:n,children:(0,ni.jsx)(Ei,{})})]}):null},Ci=["styles"];function Ni(){return Ni=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ni.apply(this,arguments)}var bi=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Ci);return a().createElement("svg",Ni({xmlns:"http://www.w3.org/2000/svg",viewBox:"-15 -15 130 130"},t),a().createElement("path",{d:"M67.35 10.29v4h14.83l-21.2 21.19 2.83 2.83 21.2-21.2v14.84h4V10.29H67.35zM32 14.29v-4H10.34v21.66h4V17.11l21.2 21.2 2.83-2.83-21.2-21.19H32zM85.01 65.24v14.83l-21.2-21.2-2.83 2.83 21.2 21.2H67.35v4h21.66V65.24h-4zM35.54 58.87l-21.2 21.2V65.24h-4V86.9H32v-4H17.17l21.2-21.2-2.83-2.83z"}))},xi="AssetCard-module__imageCard___rrjFi",yi="AssetCard-module__filmCard___wrP_Z",Ai="AssetCard-module__zoomIn___Kqq4R",Oi="AssetCard-module__figcaption___S0Kyy",Di="AssetCard-module__boardsContainer___il6bk",ki=function(e){var t=e.show,n=e.toggleModal;return t?(0,ni.jsx)("div",{className:Ai,onClick:n,children:(0,ni.jsx)("span",{children:(0,ni.jsx)(bi,{})})}):null},ji="Actions-module__container___IqsYi",Li="Actions-module__container__editable___cynMj",Ri="Actions-module__button___YeDE5",Pi="Actions-module__boardsTooltip___iny53",Fi="Actions-module__boardsActive___bDUWp",Mi="Actions-module__boardsRemove___rk8AF",Ui=function(e){var t=e.children,n=e.onClick;return(0,ni.jsx)("button",{onClick:n,className:Ri,children:t})},Bi=["styles"];function zi(){return zi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zi.apply(this,arguments)}var Gi=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Bi);return a().createElement("svg",zi({width:"18",height:"19",viewBox:"0 0 18 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.4 0v8.402H0v1.203h8.4v8.397h1.202V9.605H18V8.402H9.602V0H8.4z",fill:"#474747"}))},Wi=["styles"];function Hi(){return Hi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Hi.apply(this,arguments)}var Vi=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Wi);return a().createElement("svg",Hi({xmlns:"http://www.w3.org/2000/svg",width:"17",height:"17",viewBox:"0 0 17 17"},t),a().createElement("path",{d:"M7.734-.001h1.531V0H7.734z"}),a().createElement("path",{fill:"#474747",d:"M15.16 7.735H-.001v1.53h7.735v.001h9.267V7.734z"}))},Yi=["styles"];function Ki(){return Ki=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ki.apply(this,arguments)}var qi=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Yi);return a().createElement("svg",Ki({width:"20",height:"20",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{fill:"none"},a().createElement("path",{fill:"#474747",mask:"url(#mask-2)",d:"M7.582 16.619l-6.317-6.32 1.273-1.273 5.044 5.047 9.79-9.79 1.274 1.273z"})))},Ji=function(e){var t=e.assetIsInBoard,n=(0,ci.useTranslations)();return t?(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsxs)("div",{className:Fi,children:[(0,ni.jsx)(qi,{}),n("saved")]}),(0,ni.jsxs)("div",{className:Mi,children:[(0,ni.jsx)(Vi,{}),n("remove")]})]}):(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)(Gi,{})," ",n("save")]})},Zi=n(82429),Qi=n(45659);function Xi(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function $i(e,t,n){return t&&Xi(e.prototype,t),n&&Xi(e,n),e}function ea(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,aa(e,t)}function ta(e){var t="function"==typeof Map?new Map:void 0;return ta=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,i)}function i(){return na(e,arguments,ra(this).constructor)}return i.prototype=Object.create(e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),aa(i,e)},ta(e)}function na(e,t,n){return na=ia()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&aa(a,n.prototype),a},na.apply(null,arguments)}function ia(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function aa(e,t){return aa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},aa(e,t)}function ra(e){return ra=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ra(e)}Error,Error,Error;var sa=function(e,t){void 0===t&&(t={});var n=window.tracking_data;(0,Qi.r$)({requestId:null==n?void 0:n.request_id,pageName:null==n?void 0:n.page_name,error:e,type:e.name,errorInfo:t,message:e.message,stack:e.stack})},oa=function(e,t){void 0===t&&(t={});try{window.combinedGtmTracking.gtmPushTracking(e,t)}catch(e){sa(e)}},ca=function(e){var t=e.asset,n=(0,_i.useBoards)(),i=n.boards,a=n.toggleAsset,r=n.setToasterAsset,s=i.isAssetInBoard(t),o=(0,Zi.useSpectrum)();return(0,ni.jsxs)(Ui,{disabled:!i.defaultBoard,onClick:function(){s?oa("removeFromBoard",{removedItems:[t],board_name:i.defaultBoard.name,grid_slot_number:t.slot,ui_element_location:"adp_tools_panel_top"}):(oa("addToBoard",{addedItems:[t],board_name:i.defaultBoard.name,grid_slot_number:t.slot,ui_element_location:"adp_tools_panel_top"}),o.sendAssetAddedToBoardSignal(t,i.defaultBoard.id)),a(s?"remove_assets":"add_assets",i.defaultBoard.id,t.id),r(t)},children:[(0,ni.jsx)("div",{className:Pi,children:(0,ni.jsx)(_i.BoardTooltip,{theme:"istock",asset:t,modal:(0,ni.jsx)(_i.ChooseBoardModal,{theme:"istock",asset:t})})}),(0,ni.jsx)(Ji,{assetIsInBoard:i.isAssetInBoard(t)})]})},la=["styles"];function da(){return da=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},da.apply(this,arguments)}var ua=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,la);return a().createElement("svg",da({version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",x:"0",y:"0",width:"16.443",height:"16.132",viewBox:"0 0 16.443 16.132",xmlSpace:"preserve"},i),a().createElement("path",{className:n.st0||"st0",d:"M7.143 12.495h-.01l-2.412-.032a.751.751 0 01-.74-.74L3.947 9.31a.746.746 0 01.22-.54L12.718.22a.75.75 0 011.061 0l2.445 2.444a.75.75 0 010 1.06l-8.551 8.551a.75.75 0 01-.53.22zM5.47 10.973l1.365.018 7.797-7.797-1.384-1.383-7.797 7.796.019 1.366z"}),a().createElement("path",{className:n.st0||"st0",d:"M13.83 5.453a.747.747 0 01-.531-.22L11.235 3.17a.75.75 0 111.06-1.06l2.064 2.063a.75.75 0 01-.53 1.28zM13.508 16.132H2.209A2.212 2.212 0 010 13.922V3.056C0 1.837.991.845 2.209.845h5.65a.75.75 0 010 1.5h-5.65a.71.71 0 00-.709.71v10.868c0 .39.318.709.709.709h11.299a.71.71 0 00.709-.71V8.489a.75.75 0 011.5 0v5.435a2.212 2.212 0 01-2.21 2.209z"}))},_a=function(e){var t=e.show,n=e.url,i=e.isFilm,a=(0,ci.useTranslations)(),r=i?"Video":"Image";return t?(0,ni.jsxs)(Ui,{onClick:function(){var e;oa("adpInteraction",{adp_interaction:r+"_ADP_Editor_Link_Click",adp_selection:null==(e=window.tracking_data)?void 0:e.page_name,ui_element_location:"adp_tools_panel_top"}),window.open(n)},children:[(0,ni.jsx)(ua,{}),a(i?"edit_this_video":"edit")]}):null},pa="Badge-module__badge___psaSY",ma=function(e){var t=e.children;return(0,ni.jsx)("span",{className:pa,children:t})},fa=["styles"];function ha(){return ha=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ha.apply(this,arguments)}var ga=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,fa);return a().createElement("svg",ha({width:"20",height:"22",viewBox:"0 0 20 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("g",{clipPath:"url(#clip0_2196:73391)",fill:"#474747"},a().createElement("path",{d:"M8.2 13.26v5.39l4.47-2.7-4.47-2.69z"}),a().createElement("path",{d:"M18.68 7.69H5.31l12.85-3.74a.75.75 0 00.51-.93L17.95.54A.77.77 0 0017.31 0a.71.71 0 00-.291.03L.54 4.85a.72.72 0 00-.45.35.73.73 0 00-.06.58l.72 2.48V21a.76.76 0 00.75.75h17.17a.76.76 0 00.75-.75V8.44a.75.75 0 00-.74-.75zm-.79 2.57H2.26V9.19h15.63v1.07zm-1.21-8.58l.3 1-15 4.38-.3-1 15-4.38zM2.26 20.25v-8.49h15.63v8.49H2.26z"})),a().createElement("defs",null,a().createElement("clipPath",{id:"clip0_2196:73391"},a().createElement("path",{fill:"#fff",d:"M0 0h19.43v21.75H0z"}))))},va=function(e){var t=e.show,n=e.url,i=(0,ci.useTranslations)();return t?(0,ni.jsxs)(Ui,{onClick:function(){oa("adpInteraction",{adp_interaction:"Image_ADP_Make_a_Video_Button_Click",adp_selection:"ADP_Make_a_video",ui_element_location:"adp_tools_panel_top"}),window.open(n)},children:[(0,ni.jsx)(ga,{}),i("make_a_video"),(0,ni.jsx)(ma,{children:i("new_all_caps")})]}):null},wa=function(e){var t=e.asset,n=t.isImage,i=t.isFilm,a=t.videoEditorPath,r=t.editorPath,s=t.editable,o=t.assetId,c=t.editableInVideoEditor;return(0,ni.jsxs)("div",{className:s?Li:ji,children:[(0,ni.jsx)(ca,{asset:Object.assign({id:o},t)}),(0,ni.jsx)(_a,{show:s,url:i?a:r,isFilm:i}),(0,ni.jsx)(va,{show:n&&c,url:a})]})},Sa="OnlyFromIstock-module__exclusiveEditorial___rIEiC",Ia="OnlyFromIstock-module__exclusive___VqMj4",Ea="OnlyFromIstock-module__exclusiveText___zElWK",Ta=function(e){var t=e.show,n=e.editorial,i=(0,ci.useTranslations)();return t?(0,ni.jsx)("div",{className:n?Sa:Ia,"data-testid":"istock-exclusive",children:(0,ni.jsx)("span",{className:Ea,children:i("only_from_istock")})}):null},Ca=function(e){var t=e.caption;return(0,ni.jsx)("figcaption",{className:Oi,"data-testid":"figcaption",children:t})},Na=function(){return{categoriesLink:function(e){M.default.categoriesLink(e)},singleDownload:function(e,t){(window.tracking_data||{}).download_type="comp download",M.default.singleDownload(e,t)},setZoomStatus:function(e){(window.tracking_data||{}).adp_is_zoomed=e},setUiElementLocation:function(e){if(null!=window.combinedGtmTracking)return window.combinedGtmTracking.setUIElementLocation(e)},setAssetDetailTrackingData:function(e,t){var n=window.tracking_data||{};n.asset_details||(n.asset_details={}),n.asset_details[e]=t},setTrackingDataElement:function(e,t){(window.tracking_data||{})[e]=t}}},ba=function(e,t){void 0===t&&(t={});var n=(0,i.useState)(!1),a=n[0],r=n[1],s=Na(),o=function(){a?(r(!1),s.setZoomStatus(void 0),document.querySelector("body").classList.remove("modal-visible")):(r(!0),s.setZoomStatus("zoom"),document.querySelector("body").classList.add("modal-visible"))},c=function(e){a&&"Escape"==e.key&&o()},l=function(){if(t.AdpImageVideoEditorButtonTest){var n=e?"image":"video";!function(e){var t=window.tracking_data;t.ab_test_variation?t.ab_test_variation=t.ab_test_variation+"|"+e:t.ab_test_variation=e}("Test"===t.AdpImageVideoEditorButtonTest?"is_adp_"+n+"_tool_position-expA":"is_adp_"+n+"_tool_position-control")}};return(0,i.useEffect)((function(){return window.addEventListener("keyup",c),function(){window.removeEventListener("keyup",c)}}),[a]),(0,i.useEffect)((function(){l()}),[]),{open:a,toggleModal:o,sendDownloadCompTracking:function(){s.singleDownload("comp")}}},xa=function(e){var t=e.asset,n=e.hasActions,i=t.isImage,a=t.isFilm,r=t.isEditorialUseOnly,s=t.isIstockExclusive,o=t.metaTags.seoAlt,c=t.experiences,l=ba(i,c),d=l.open,u=l.toggleModal,_=l.sendDownloadCompTracking,p=n?{}:{padding:0};return(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsxs)("section",{className:a?yi:xi,style:p,children:[n&&(0,ni.jsx)(wa,{asset:t}),(0,ni.jsx)(Ti,{show:d,closeModal:function(){return u()},trackClick:function(){return _()}}),!n&&(0,ni.jsx)("div",{className:Di,children:(0,ni.jsx)(mi,{})}),(0,ni.jsxs)("figure",{role:"figure",children:[(0,ni.jsx)(hi,{asset:t,trackClick:function(){return _()}}),(0,ni.jsx)(Ca,{caption:o}),(0,ni.jsx)(ki,{show:i,toggleModal:function(){return u()}})]})]}),!n&&(0,ni.jsx)(Ta,{show:s,editorial:i&&r})]})};xa.defaultProps={hasActions:!1};var ya=(0,i.memo)(xa),Aa=function(e){var t=e.descriptionContent,n=e.editorialImage,i=(0,ci.useTranslations)(),a=(0,r.v9)((function(e){return e.asset.experiences.mobileSimplification}));return n?(0,ni.jsx)("section",{className:"editorial-caption","data-testid":"editorial-description-content",children:t}):t?(0,ni.jsx)("section",{className:"description "+(a?"simplification-test-margin":""),children:(0,ni.jsxs)("div",{className:"section-content",children:[a?(0,ni.jsx)("p",{className:"description-header",children:i("file_description")}):(0,ni.jsx)("h2",{children:i("file_description")}),(0,ni.jsx)("p",{"data-testid":"description-content",children:t})]})}):null},Oa="SearchBar-module__searchBar___p1tJq",Da=function(){var e=(0,r.v9)((function(e){return e.asset}));return(0,ni.jsx)("div",{className:Oa,children:(0,ni.jsx)(de.aT,{config:{options:{peekyScroll:!1,searchByImage:e.experiences.searchByImage,sbiOnReact:e.experiences.sbiOnReact,hideOnScroll:!0},searchParameters:{family:e.assetFamily,assettype:e.assetType,mediatype:e.mediaType,assetfiletype:e.isVector?"eps":null}}})})},ka="AssetTitle-module__container___DlxWw",ja="AssetTitle-module__showFullTitleButton___IQH8C",La="AssetTitle-module__keywords___KAehs",Ra="AssetTitle-module__title___rUHQ4",Pa="AssetTitle-module__onlyFromIstock___xGiHy",Fa=function(e){var t,n=e.show,i=e.keywords;return n?(0,ni.jsx)("div",{className:La,children:n&&(0,ni.jsx)("h2",{"data-testid":"keywords",children:(t=i,t.slice(0,5).map((function(e){return e.text})).join(", "))})}):null},Ma=function(e){var t=e.asset,n=e.hasOnlyFromIstock,a=(0,ci.useTranslations)(),r=t.title,s=t.keywords,o=t.isImage,c=t.isIllustration,l=t.isFilm,d=t.isIstockExclusive,u=t.isEditorialUseOnly,_=(0,i.useState)(!1),p=_[0],m=_[1];return(0,ni.jsxs)("section",{className:ka,"data-testid":"asset-title",children:[(0,ni.jsxs)("div",{className:Ra,children:[n&&d&&(0,ni.jsx)("div",{className:Pa,"data-testid":t.assetId,children:(0,ni.jsx)(Ta,{show:d,editorial:o&&u})}),(0,ni.jsxs)("h1",{"data-asset-id":t.assetId,children:[c?a("attributes.seo_title_illustrations",{title:r}):o?a("attributes.seo_title_photos",{title:r}):l?a("attributes.seo_title_videos",{title:r}):r,!p&&(0,ni.jsx)("button",{className:ja,title:a("see_full_title"),onClick:function(){return m(!0)},children:(0,ni.jsx)("span",{children:"..."})})]})]}),(0,ni.jsx)(Fa,{show:p,keywords:s})]})};function Ua(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return Ba(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ba(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ba(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function za(){var e=window.tracking_data||{};return!!(window.giLocalStorage.getItem("spectrum.downloadAssetId")||function(){try{var e=new URL(document.referrer);return["salesforce","gettyimages","wireimage","filmmagic","contour","istock"].includes(e.hostname)||new RegExp(".*esp(aws|dev)?..*").test(e)}catch(e){return!1}}()&&!e.is_search_by_assetid)}var Ga=function(e){return e.billing_country?e.billing_country:e.geolocation_country?e.geolocation_country:"USA"},Wa=function(e){var t=window.tracking_data||{},n=Ya();return t.gallery&&(n.gallery=t.gallery),null!=(null!=e?e.agreementType:void 0)&&(n.agreement_type=e.agreementType),window.giLocalStorage.removeItem("spectrum.downloadAssetId"),n};function Ha(){var e=window.giLocalStorage.getItem("search.lastSearchPAFilter"),t=window.tracking_data||{},n=null==t?void 0:t.active_agreements.PA;if(!e||!n)return"none";for(var i,a=Ua(n);!(i=a()).done;){var r=i.value;if(e===r.Id.toString())return r.PaAgreementType}return"none"}function Va(e){var t,n=(window.tracking_data||{}).asset_details;return t=n.asset_id,window.giLocalStorage.setItem("spectrum.downloadAssetId",t),Wa({agreementType:e})}function Ya(){var e,t=window.tracking_data||{},n=t.asset_details;e=n.asset_id,window.giLocalStorage.setItem("spectrum.lastAssetIdViewed",e);var i={algorithm_id:window.giLocalStorage.getItem("search.algorithmId"),country_code:Ga(t),creative_assets_type:window.giLocalStorage.getItem("search.lastSearchCreativeAssetType"),pa_agreement_filter:Ha(),queried_keywords_by_clause:JSON.parse(window.giLocalStorage.getItem("queried_keywords_by_clause")),target_search_mix:window.giLocalStorage.getItem("target_search_mix")};return za()&&(i.phrase=window.giLocalStorage.getItem("current_search_phrase"),i.number_of_concepts=function(){var e=JSON.parse(window.giLocalStorage.getItem("queried_keywords_by_clause"));if(e)return e.length}()),Object.assign({adp_link_source:t["adp-link-source"],country_code:Ga(t)},i)}var Ka=function(){var e=(0,r.v9)((function(e){return e.asset}));(0,i.useEffect)((function(){var t;"image"===e.assetType&&((t=(t=JSON.parse(localStorage.getItem("search.assetsViewedData"))||[]).filter((function(t){return t.id!==e.id}))).length>=100&&t.pop(),t.unshift({id:e.id,width:e.assetDimensions.width,height:e.assetDimensions.width,deliveryUrl:e.thumb612Url}),localStorage.setItem("search.assetsViewedData",JSON.stringify(t)))}),[])},qa=function(e){var t=e.errorType,n=(0,ci.useTranslations)();return t?(0,ni.jsx)("section",{className:"error",children:(0,ni.jsx)("div",{className:"error-bar",children:(0,ni.jsx)("span",{children:n("download_failed")})})}):null},Ja="AssetDetail-module__initial_buy_card_height___yllKy",Za="AssetDetail-module__assetDetail___jyMom",Qa="AssetDetail-module__main___Nq9RL",Xa="AssetDetail-module__subFold___sLtt7",$a="AssetDetail-module__subFoldAssets___ZUV5w",er="KeywordList-module__container___NJGbk",tr="KeywordList-module__sectionContent___n6fiF",nr="KeywordList-module__title___V_raQ",ir="KeywordList-module__list___B3nTp",ar="KeywordList-module__item___x60k5",rr="KeywordList-module__link___lFG_m",sr=function(e){var t=e.keyword,n=(0,Zi.useGtm)();return(0,ni.jsx)("a",{onClick:function(){n.prepareEvent("search",{element_location:"keyword_button_adp",search_tools:"ADP_Keyword_Browse_Click"}),n.trackEvent("adpInteraction",{ui_element_location:"keyword_button_adp",search_type:"keyword-browse",adp_interaction:"ADP_Keyword_Browse_Click",adp_selection:t.text.substring(0,t.text.lastIndexOf(" "))})},className:rr,href:t.href,"data-search-bot":t.dataSearchBot,"data-search-link":t.dataSearchLink,itemType:"http://schema.org/relatedLink",children:t.text})},or=function(e){var t=e.keywords,n=(0,ci.useTranslations)(),a=function(e){if(0===t.length)return[];var i=t.map((function(t,n){if(!(e&&n>=18))return(0,ni.jsx)("li",{className:ar,children:(0,ni.jsx)(sr,{keyword:t})},n)}));if(e){var a=(0,ni.jsx)("li",{className:ar,"data-testid":"show-all-button",onClick:function(){return c(!0)},children:(0,ni.jsx)("a",{className:rr,children:n("see_all_keywords")})},"show-all");i.push(a)}return i},r=(0,i.useState)(a(!0)),s=r[0],o=r[1],c=function(){o(a(!1))};return s.length>0?(0,ni.jsx)("section",{className:er,"data-testid":"keyword-list",children:(0,ni.jsxs)("div",{className:tr,children:[(0,ni.jsx)("h2",{className:nr,children:n("keywords")}),(0,ni.jsx)("ul",{className:ir,children:s})]})}):null},cr=function(){var e=(0,r.v9)((function(e){return e.asset})),t=e.keywordsView?e.keywordsView.list.toArray():[];return(0,ni.jsx)(ni.Fragment,{children:(0,ni.jsx)(or,{keywords:t})})},lr="Categories-module__relatedContainer___fvorS",dr="Categories-module__sectionContent___IwCzp",ur="Categories-module__title___vy2Hf",_r="Categories-module__holder___4Ik26",pr="Categories-module__list___Hanyj",mr="Categories-module__item___rmppz",fr="Categories-module__link___HPwf8",hr="Categories-module__topContainer___ESlps",gr=function(e){var t=e.categories,n=(0,ci.useTranslations)();return(null==t?void 0:t.length)>0?(0,ni.jsx)("section",{className:lr,"data-testid":"related-categories-list",children:(0,ni.jsxs)("div",{className:dr,children:[(0,ni.jsx)("h2",{className:ur,children:n("browse_related_categories")}),(0,ni.jsx)("div",{className:_r,children:function(){for(var e=[],n=[],i=[].concat(t);i.length;)e.push(i.splice(0,3));return e.map((function(e,t){n.push((0,ni.jsx)("ul",{className:pr,children:e.map((function(e,t){return(0,ni.jsx)("li",{className:mr,children:(0,ni.jsx)("a",{className:fr,href:e.href,children:e.text})},t)}))},t))})),n}()})]})}):null},vr=function(e){var t=e.categories,n=e.title;return(null==t?void 0:t.length)>0?(0,ni.jsx)("section",{className:hr,"data-testid":"top-categories-list",children:(0,ni.jsxs)("div",{className:dr,children:[(0,ni.jsx)("h2",{className:ur,children:n}),(0,ni.jsx)("ul",{className:pr,children:t.map((function(e,t){return(0,ni.jsx)("li",{className:mr,children:(0,ni.jsx)("a",{href:e.href,target:"_self",children:e.title})},t)}))})]})}):null},wr=function(){var e=(0,r.v9)((function(e){return e.asset})).categories||{},t=e.showRelated,n=void 0!==t&&t,i=e.relatedCategories,a=e.showTop,s=void 0!==a&&a,o=e.topCategories,c=e.topCategoriesTitle;return(0,ni.jsxs)(ni.Fragment,{children:[n?(0,ni.jsx)(gr,{categories:i._tail.array}):null,s?(0,ni.jsx)(vr,{title:c,categories:o._tail.array}):null]})},Sr="RoyaltyFreeFaq-module__rfFaq___U1ukO",Ir="RoyaltyFreeFaq-module__sectionContent___o5Q3D",Er="RoyaltyFreeFaq-module__content___D7RMY",Tr="RoyaltyFreeFaq-module__heading___Q91aY",Cr="RoyaltyFreeFaq-module__divider___BT0pK",Nr="RoyaltyFreeFaq-module__dividerBottom___G1asn",br="RoyaltyFreeFaq-module__learnMore___JFJ0T",xr="RoyaltyFreeFaq-module__qa___tYdJb",yr="RoyaltyFreeFaq-module__question___cDfXM",Ar="RoyaltyFreeFaq-module__answer___F4e9_",Or=function(){var e=(0,ci.useTranslations)(),t=(0,r.v9)((function(e){return e.asset})),n=t.rfFaqData||{},i=n.showRFFaq,a=void 0!==i&&i,s=n.keywordLinkMarkup,o=n.learnMoreAboutRfHref,c=n.rfPhotosLink,l=n.rfIllustrationsLink,d=n.rfVideosLink,u=function(e){return{__html:e}};return a?(0,ni.jsx)("section",{className:Sr,children:(0,ni.jsx)("div",{className:Ir,children:(0,ni.jsxs)("div",{className:Er,children:[(0,ni.jsx)("h2",{className:Tr,children:e("frequently_asked_questions_capitalized")}),(0,ni.jsx)("hr",{className:Cr}),(0,ni.jsxs)("dl",{className:xr,children:[(0,ni.jsx)("dt",{className:yr,children:e("what_is_a_rf_license")}),(0,ni.jsx)("dd",{className:Ar,dangerouslySetInnerHTML:u(t.keywords.length>0?e("rf_licenses_features",{keyword_link:s}):e("rf_licenses_features_no_link"))}),(0,ni.jsx)("dt",{className:yr,children:e("what_kinds_rf_files_istock")}),(0,ni.jsx)("dd",{className:Ar,dangerouslySetInnerHTML:u(e("rf_licenses_best_option",{links:[{href:c},{href:l},{href:d}]}))}),(0,ni.jsx)("dt",{className:yr,children:e("how_to_use_rf_assets")}),(0,ni.jsx)("dd",{className:Ar,dangerouslySetInnerHTML:u(t.keywords.length>0?e("rf_possibilities",{keyword_link:s}):e("rf_possibilities_no_link"))})]}),(0,ni.jsx)("hr",{className:Nr}),(0,ni.jsx)("p",{className:br,dangerouslySetInnerHTML:u(e("learn_more_about_rf",{links:[{href:o}]}))})]})})}):null},Dr="PricingDisclaimer-module__pricingExpiryCreditDisclaimer___jUp5Q",kr=function(){var e=(0,r.v9)((function(e){return e.asset})),t=(0,ci.useTranslations)();return e.showCreditExpiryDisclaimer?(0,ni.jsx)("div",{className:Dr,children:t("packs_never_expire")}):null},jr=n(79461),Lr=n(9424),Rr=n(85971),Pr=function(){var e=(0,i.useState)([]),t=e[0],n=e[1],a=(0,i.useState)(0),r=a[0],s=a[1],o=function(){s((function(e){return e+1}))},c=function(e){n((function(t){return[].concat(t,[e])}))};return(0,i.useEffect)((function(){if(r>0&&t.length===r){var e=t.filter((function(e){return null!==e})).join(",");(0,Rr.Gm)(e)}}),[t]),(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)(jr.Z,{increaseGridCounter:o,addTrackedGrid:c}),(0,ni.jsx)(Lr.Z,{increaseGridCounter:o,addTrackedGrid:c})]})},Fr=function(e){var t=e.totalCreditCost,n=(0,ci.useTranslations)();return t>1?(0,ni.jsx)("span",{children:n("more_than_one_credit",{zero:t})}):1===t?(0,ni.jsx)("span",{children:n("one_credit")}):null},Mr=function(){var e=(0,ci.useTranslations)(),t=(0,r.v9)((function(e){return e.asset}));return(0,ni.jsx)("div",{className:"adp-free-file adp-content-animation-fade","data-testid":"free-file",children:t.isIllustration?(0,ni.jsx)("span",{children:e("free_illustration_otm")}):t.isFilm?(0,ni.jsx)("span",{children:e("free_video_otm")}):(0,ni.jsx)("span",{children:e("free_photo_otw")})})},Ur=function(){var e=(0,r.v9)((function(e){return e.asset})),t=(0,r.v9)((function(e){return e.calc.hasSelectedOptionalLicenses})),n=(0,r.v9)((function(e){return e.calc.selectedAgreementType})),i=(0,r.v9)((function(e){return e.calc.step.showCreditCost})),a=(0,r.v9)((function(e){return e.buyCardData.geoPricingPromoPolicy.show})),s=t&&n,o=(0,r.v9)((function(e){return e.calc.totalCreditCost})),c=(0,ci.useTranslations)();return e.freeFile?(0,ni.jsx)(Mr,{}):a?(0,ni.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"geo-test-content",children:(0,ni.jsx)("span",{children:c("new_lower_prices")})}):(i||s)&&(0,ni.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-credit-cost",children:(0,ni.jsx)("div",{className:"download-actions__header",children:(0,ni.jsx)(Fr,{totalCreditCost:o})})})},Br={};Br[y.expired]=Gr((function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Account_Subscription_Expired_Warning_Renew_Click",account_selection:window.tracking_data.page_name,sku:e.sku,ui_element_location:"adp_subscription_expired_message"})})),Br[y.paused]=Gr((function(e){window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Subscription_Suspended_Notification_CTA_Click",account_selection:window.tracking_data.page_name,sku:e.sku,ui_element_location:"adp_subscription_paused_message"})})),Br[y.suspended]=Gr((function(e){e.can_unsuspend&&window.combinedGtmTracking.gtmPushTracking("accountInteraction",{account_interaction:"Unsuspend_Subscription_Notification_CTA_Click",account_selection:"adp_unsuspend_subscription_message",sku:e.sku,ui_element_location:window.tracking_data.page_name})}));var zr=function(e){};function Gr(e){return function(t){if(t)switch(t.name){case E.MUST_BUY_CREDITS_WHEN_INSUFFICIENT_REMAINING_AND_BLOCKED_SUBSCRIPTION:case E.CONFIRM_DOWNLOAD_BY_CREDITS_WHEN_BLOCKED_SUBSCRIPTION_EXISTS:return e}return zr}}var Wr=function(e,t){if(e){var n=Br[e.status];n&&n(t)(e)}},Hr=function(e,t,n,i){var a;(void 0===n&&(n=!0),void 0===i&&(i=null),"checkout"===t)?a=n?"?":"&":a=e.search(/\?/)<0?"?":"&";return e+=a+(i?"fastcheckoutasset="+i:"in-pricing-clarity=true"),window.siteMap.cleanRelativePath(e)},Vr={getPricingUrl:function(e,t){return void 0===t&&(t=!0),Hr(e,"pricing",t)},getCheckoutUrl:function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=null),Hr(e,"checkout",t,n)}},Yr=function(){var e=(0,ci.useTranslations)(),t=(0,r.I0)(),n=(0,r.v9)((function(e){return e.redirectToUrl})),a=(0,r.v9)((function(e){return e.calc})),s=a.isInPricingClarity,o=a.assetIsVideo,c=a.totalCreditCost,l=(0,r.v9)((function(e){return e.calc.step})),d=l.name,u=l.pricingOption,_=l.showPricingClarity,p=l.viewLicenseSelection,m=(0,r.v9)((function(e){return e.user})),f=m.fast_checkout_subs_pack_sku,h=m.istock_fast_checkout_larger_offer_credit_pack_sku,g=m.standard_asset_credit_pack,v=m.credit_amount,w=(0,r.v9)((function(e){return e.user.country_code})),S=(0,r.v9)((function(e){return e.asset})),I=S.assetId,E=S.standardLicense,T=(0,r.v9)((function(e){return e.buyCardData})).mubRedirectUrl,C=(0,r.v9)((function(e){return e.user.premium_video_subscription_enabled}));(0,i.useEffect)((function(){if(n){var e=x(n);window.location.href=e}}),[n]);var N=function(e){return window.location.href=e},b=function(){return s&&_&&!p},x=function(t){if(t===T||t.includes("sign-in"))return t;var n="/"+e(t);return y(window.siteMap.cleanRelativePath(n))},y=function(e){return/(.*)JS translation missing(.*)/.test(e)?window.siteMap.cleanRelativePath("/plans-and-pricing"):e},A=function(){return!o&&Tt.inGeoLocPricingTest(w)||C};return{redirectToPricing:function(){"pricing"===u&&"PICK_PRICING_CLARITY_PAYMENT_OPTION"===d&&"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point","adp-subscription");var e=x(bn.getPricingRoute(o));return b()&&!C?e=Vr.getPricingUrl(e):A()&&(e=x(bn.getDefaultPnpRoute())),N(e)},redirectToFastCheckoutWithSubscription:function(){var e="/purchase/subscriptions/"+f;return e=Vr.getCheckoutUrl(e,!0,I),N(e)},redirectToFastCheckoutWithPacksForExtLicence:function(){var e=c-v;if(!(e<1)){var t="/purchase/total-credits/"+e+"/?extendedlicensefastcheckout=true";return t=Vr.getCheckoutUrl(t,!1,I),N(t)}},redirectToCheckout:function(){var e,t=1===E.credit_cost?"oneCredit":"moreThanOneCredit";if(["essentialsSubscription","signatureSubscription"].includes(t)){e="/purchase/subscriptions/"+{essentialsSubscription:"SUBISTOCK1M10",signatureSubscription:"SUBISTOCKPREM1M10"}[t],b()&&(e=Vr.getCheckoutUrl(e,!0,I))}else{var n="checkoutLargerCreditPack"==u?h:g.product_sku;"undefined"!=typeof window&&window.$&&window.$.storageQueueManager.cookieStore.set("purchase-path-entry-point","adp-creditPack"),e="/purchase/credits/"+n,b()&&(e=Vr.getCheckoutUrl(e,!0,I))}return N(e)},handleAccountSelection:function(){return t(ce.goToNextStep())},redirectToCreditPacks:function(){var e=x(bn.getPnpCreditsRoute());return N(e)},translateCleanAndValidatePath:x}},Kr="WarningBox-module__titleEmphasized___wRLmu",qr="WarningBox-module__lightBlueError___aXg9d",Jr="WarningBox-module__messageContainer___N4K8c",Zr="WarningBox-module__lightBlueTitle___sKtQd",Qr="WarningBox-module__lightBlueErrorIcon___gFFp5",Xr=["styles"];function $r(){return $r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$r.apply(this,arguments)}var es=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Xr);return a().createElement("svg",$r({width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t),a().createElement("path",{d:"M10 19.5C4.776 19.5.5 15.224.5 10S4.776.5 10 .5s9.5 4.276 9.5 9.5-4.276 9.5-9.5 9.5z",fill:"#fff",stroke:"#AEDDD6"}),a().createElement("path",{d:"M9.145 5v5.922h1.71V5h-1.71zM11 13.094c0-.558-.436-.927-.994-.927-.56 0-1.006.369-1.006.927 0 .559.447.939 1.006.939.558 0 .994-.38.994-.939z",fill:"#02A388"}))},ts=function(){var e=(0,r.I0)(),t=(0,ci.useTranslations)(),n=(0,r.v9)((function(e){return e.calc.step})),i=(0,r.v9)((function(e){return e.subscription})),a=(0,r.v9)((function(e){return e.calc.step.warningClass})),s=(0,r.v9)((function(e){return e.calc.step.reasonForBox})),o=(0,r.v9)((function(e){return e.calc.step.reasonForBoxLink})),c=(0,r.v9)((function(e){return e.calc.step.warningMessageClass})),l=(0,r.v9)((function(e){return e.calc.step.warningCta})),d=(0,r.v9)((function(e){return e.calc.step.additionalInfoHtml})),u=(0,r.v9)((function(e){return e.calc.step.additionalInfoHtmlLink})),_=(0,r.v9)((function(e){return e.calc.step.persistentWarning})),p=(0,r.v9)((function(e){return e.calc.step.triggerTracking})),m=(0,r.v9)((function(e){return e.calc.step.lightBlueWarning})),f=Yr().translateCleanAndValidatePath,h=function(t){var n;"reason-for-warning"===t.target.id&&(t.preventDefault(),p(),n=t.target.href,e(ce.setRedirectUrl(n)))},g=function(){var e={};return o&&(e.links=[{href:f(o),id:"reason-for-warning"}]),{__html:t(s,e)}};return(0,ni.jsxs)("section",{className:"download-box "+(m?qr:""),"data-testid":"warning-box",children:[!_&&(0,ni.jsx)("div",{className:"adp-file-cancel-button-wrapper","data-testid":"warning-box-close",children:(0,ni.jsx)("div",{className:"adp-confirm-close-btn",onClick:function(){e(ce.closeDownloadErrorMessage())}})}),(0,ni.jsxs)("div",{className:"box "+a,"data-testid":"warning-box-warning",children:[m?(0,ni.jsxs)("div",{className:Jr,"data-testid":"light-blue-warning",children:[(0,ni.jsx)(es,{className:Qr}),s&&(0,ni.jsx)("div",{onClick:h,className:"title "+Zr,"data-testid":"reason-for-warning",dangerouslySetInnerHTML:g()})]}):(0,ni.jsxs)("div",{children:[(0,ni.jsx)("div",{className:"error-icon"}),s&&(0,ni.jsx)("div",{onClick:h,className:"title "+(d?Kr:""),"data-testid":"reason-for-warning",dangerouslySetInnerHTML:g()})]}),d&&(0,ni.jsx)("div",{className:"warning-message "+c,"data-testid":"warning-message",dangerouslySetInnerHTML:(u&&(d.translationVariables.links=[Object.assign({},Object.fromEntries(u),{href:f(u.href)})]),{__html:t(d.tag,d.translationVariables)})}),l&&(0,ni.jsxs)("div",{className:"warning-cta "+l.ctaClass,"data-testid":"warning-cta",children:[l.url&&(0,ni.jsx)("a",{className:"warning-cta__text",href:l.url,onClick:function(){e(Wr(i,n))},"data-testid":"warning-cta-url",children:t(l.tag)+" >"}),!l.url&&(0,ni.jsx)("span",{className:"warning-cta__text",children:t(l.tag)})]})]})]})},ns=function(e){var t=e.selectedPricingOption,n=e.selectPricingClarityOptionToggle,i=(0,r.v9)((function(e){return e.buyCardData.pricingOptions.firstRadioOption})),a=(0,r.v9)((function(e){return e.buyCardData.pricingClarityTranslations.firstRadioContent}));return(0,ni.jsxs)("div",{className:"purchase-choice-container "+(t===i?"selected radio-button-selected":""),onClick:function(){t!==i&&n(i)},"data-testid":"radio-button",children:[(0,ni.jsx)("div",{className:"radio-button",children:(0,ni.jsx)("input",{type:"radio",value:"checkout",name:"purchase-choice"})}),(0,ni.jsx)("label",{children:(0,ni.jsx)("div",{className:"purchase-type",children:(0,ni.jsx)("div",{className:"purchase-type__text purchase-type--bold","data-testid":"first-radio-content",dangerouslySetInnerHTML:{__html:null==a?void 0:a.main}})})})]})},is=function(e){var t=e.selectedPricingOption,n=e.selectPricingClarityOptionToggle,i=(0,r.v9)((function(e){return e.buyCardData.pricingOptions.secondRadioOption})),a=(0,r.v9)((function(e){return e.buyCardData.pricingClarityTranslations.secondRadioContent})),s=(0,r.v9)((function(e){return e.user.fast_checkout_sub_savings})),o=function(e){return{__html:e}};return(0,ni.jsxs)("div",{className:"purchase-choice-container "+(t===i?"selected radio-button-selected":""),onClick:function(){t!==i&&n(i)},"data-testid":"radio-button",children:[(0,ni.jsx)("div",{className:"radio-button",children:(0,ni.jsx)("input",{type:"radio",name:"purchase-choice",value:i})}),(0,ni.jsxs)("label",{children:[(0,ni.jsx)("div",{className:"purchase-type "+(s?"purchase-type--bold":""),"data-test-id":"second-radio-main-content",dangerouslySetInnerHTML:o(null==a?void 0:a.main)}),(0,ni.jsx)("div",{className:"purchase-type__sub-text "+(s?"purchase-type__sub-text--savings":""),"data-testid":"second-radio-sub-content",dangerouslySetInnerHTML:o(null==a?void 0:a.sub_content)})]})]})},as=function(){var e=(0,r.v9)((function(e){return e.calc.step.pricingOption})),t=(0,r.v9)((function(e){return e.user.videoPricingClarityVariance})),n=(0,r.I0)(),a=(0,i.useState)(e),s=a[0],o=a[1],c=function(e){n(ce.selectPricingClarityOptionToggle(e)),o(e)};return(0,ni.jsxs)("section",{className:"pricing-clarity","data-testid":"pricing-clarity-options",children:[t&&(0,ni.jsx)("hr",{role:"hr"}),(0,ni.jsx)(ns,{selectedPricingOption:s,selectPricingClarityOptionToggle:c}),(0,ni.jsx)(is,{selectedPricingOption:s,selectPricingClarityOptionToggle:c}),(0,ni.jsx)("hr",{})]})},rs=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,i=(0,r.v9)((function(e){return e.calc.totalCreditCost})),a=(0,r.v9)((function(e){return e.calc.selectedAccountCredits})),s=(0,r.v9)((function(e){return e.calc.step.creditsAvailable})),o=(0,ci.useTranslations)(),c=F.CREDIT_PACK;return(0,ni.jsxs)("div",{className:"purchase-choice-container "+(n===c&&"selected radio-button-selected")+" "+(!s&&"unavailable radio-button-disabled"),onClick:function(){n!==c&&s&&t(c)},"data-testid":"radio-button",children:[(0,ni.jsx)("div",{className:"radio-button",children:(0,ni.jsx)("input",{type:"radio",value:"credits",name:"purchase-choice"})}),(0,ni.jsxs)("label",{role:"label",children:[(0,ni.jsxs)("div",{className:"purchase-type",children:[i>1&&(0,ni.jsx)("span",{children:o("more_than_one_credit",{zero:i})}),1===i&&(0,ni.jsx)("span",{children:o("one_credit")})]}),(0,ni.jsx)("div",{className:"amount-remaining",children:o("credit_balance_available",{credit_balance:a})})]})]})},ss=function(e){var t=e.onSetSelectedAgreementType,n=e.selectedAgreementType,i=(0,r.v9)((function(e){return e.calc.step.subsAvailable})),a=(0,r.v9)((function(e){return e.calc.step.subDownloadsTranslationValue})),s=(0,r.v9)((function(e){return e.calc.step.subTitleTranslation})),o=(0,ci.useTranslations)(),c=F.ROYALTY_FREE_SUBSCRIPTION;return(0,ni.jsxs)("div",{className:"purchase-choice-container "+(n===c&&"selected radio-button-selected")+" "+(!i&&"unavailable radio-button-disabled"),onClick:function(){n!==c&&i&&t(c)},"data-testid":"radio-button",children:[(0,ni.jsx)("div",{className:"radio-button",children:(0,ni.jsx)("input",{type:"radio",value:"subscription",name:"purchase-choice"})}),(0,ni.jsxs)("label",{role:"label",children:[(0,ni.jsx)("div",{className:"purchase-type",children:o(s)}),(0,ni.jsx)("div",{className:"amount-remaining",children:o("subscription_downloads_remaining",{downloads_remaining:a})})]})]})},os=function(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.calc.selectedAgreementType})),n=(0,r.v9)((function(e){return e.calc.step.showSubscriptionField})),i=(0,ci.useTranslations)(),a=function(t){e(ce.setSelectedAgreementType(t))};return(0,ni.jsxs)("section",{className:"adp-download-choices","data-testid":"download-choices",children:[(0,ni.jsx)("div",{className:"title",children:i("how_will_you_pay")}),(0,ni.jsx)("hr",{}),n&&(0,ni.jsx)(ss,{selectedAgreementType:t,onSetSelectedAgreementType:a}),(0,ni.jsx)("hr",{}),(0,ni.jsx)(rs,{selectedAgreementType:t,onSetSelectedAgreementType:a}),(0,ni.jsx)("hr",{})]})},cs=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,i=(0,ci.useTranslations)(),a=V.PERSONAL;return(0,ni.jsxs)("div",{className:"account-choice-container "+(t===a?"selected radio-button-selected":""),onClick:function(){n(a)},"data-testid":"radio-button",children:[(0,ni.jsx)("div",{className:"radio-button",children:(0,ni.jsx)("input",{type:"radio",name:"account-choice",value:a})}),(0,ni.jsx)("label",{role:"label",children:(0,ni.jsx)("div",{className:"account-type",children:i("download_using_my_account")})})]})},ls=function(e){var t=e.selectedAccount,n=e.setSelectedAccountChoiceOption,i=(0,r.v9)((function(e){return e.user.team_name})),a=V.TEAM,s=(0,ci.useTranslations)();return(0,ni.jsxs)("div",{className:"account-choice-container "+(t===a?"selected radio-button-selected":""),onClick:function(){n(a)},"data-testid":"radio-button",children:[(0,ni.jsx)("div",{className:"radio-button",children:(0,ni.jsx)("input",{type:"radio",name:"account-choice",value:a})}),(0,ni.jsx)("div",{className:"company-icon"}),(0,ni.jsx)("label",{role:"label",children:(0,ni.jsx)("div",{className:"account-type",children:s("download_on_behalf_of_the_team",{name:i})})})]})},ds=function(){var e=(0,r.v9)((function(e){return e.calc.selectedAccount})),t=(0,r.I0)(),n=(0,i.useState)(e),a=n[0],s=n[1],o=function(e){t(ce.setSelectedAccount(e)),s(e)};return(0,ni.jsxs)("section",{className:"adp-account-choices","data-testid":"account-choices",children:[(0,ni.jsx)("hr",{}),(0,ni.jsx)(cs,{selectedAccount:a,setSelectedAccountChoiceOption:o}),(0,ni.jsx)("hr",{}),(0,ni.jsx)(ls,{selectedAccount:a,setSelectedAccountChoiceOption:o}),(0,ni.jsx)("hr",{})]})},us=n(87757),_s=n.n(us),ps=["styles"];function ms(){return ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ms.apply(this,arguments)}var fs=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,ps);return a().createElement("svg",ms({xmlns:"http://www.w3.org/2000/svg",width:"60",height:"44.5",viewBox:"0 0 60 44.5"},t),a().createElement("path",{fill:"#FFF",d:"M19.75 22.302l2.851-2.851 5.701 5.702L39.705 13.75l2.851 2.851-14.254 14.253z"}))},hs=function(){var e=(0,r.I0)(),t=Na(),n=(0,Zi.useSpectrum)(),i=(0,r.v9)((function(e){return e.calc.step})).dropboxEnabled,a=(0,r.v9)((function(e){return e.buyCardData})).mubRedirectUrl,s=(0,r.v9)((function(e){return e.calc})),o=s.selectedAssetSize,c=s.selectedAgreementSize,l=s.selectedAgreementType;return{createDownload:function(){return c?(t.setAssetDetailTrackingData("asset_size",o.name),n.sendAssetDownloadedSignal(Va(l)),e(H(window.korrelationId,a,i))):e(B("download_failed"))}}},gs=n(53234),vs="CompletePurchase-module__fullWidth___vzW7V";function ws(e,t,n,i,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}var Ss=function(e){var t=e.fullWidth,n=Yr(),i=(0,ci.useTranslations)(),a=(0,r.I0)(),s=hs(),o=(0,r.v9)((function(e){return e.calc.ctaInProgress})),c=(0,r.v9)((function(e){return e.calc.step.ctaAction})),l=(0,r.v9)((function(e){return e.calc.step.ctaClass})),d=(0,r.v9)((function(e){return e.calc.step.ctaTitle})),u=(0,r.v9)((function(e){return e.calc.step.completeSection})),_=(0,r.v9)((function(e){return e.calc.step.confirmSection})),p=(0,r.v9)((function(e){return e.calc.step.hideDownloadButton})),m=((0,r.v9)((function(e){return e.calc.step.name})),(0,r.v9)((function(e){return e.calc.step.triggerTracking}))),f=function(){var e,t=(e=_s().mark((function e(t){var i;return _s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a(ce.setCtaInProgress(!0)),m&&m(),i=c.split("(")[0],!ce[c]){e.next=9;break}return e.next=7,a(ce[c]());case 7:e.next=16;break;case 9:if("createDownload"!==i){e.next=14;break}return e.next=12,s[c]();case 12:e.next=16;break;case 14:return e.next=16,n[i]();case 16:if("pickOptionalLicenses"!==i){e.next=18;break}return e.abrupt("return");case 18:a(ce.setCtaInProgress(!1));case 19:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){ws(r,i,a,s,o,"next",e)}function o(e){ws(r,i,a,s,o,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}();return(0,ni.jsx)("section",{className:"adp-file-confirm-cancel-wrapper","data-testid":"confirm-cancel-wrapper",children:!p&&(0,ni.jsxs)("div",{className:"adp-file-download-button-wrapper",children:[!u&&(0,ni.jsxs)("button",{className:l+" "+(t?vs:""),id:"download-button",type:"submit","data-testid":"download-button",onClick:f,disabled:o,children:[o&&(0,ni.jsx)("div",{role:"spinner",children:(0,ni.jsx)(gs.Z,{color:"#fff",height:"22",width:"22"})}),!o&&d&&(0,ni.jsx)("span",{role:"title",children:i(d)})]}),u&&(0,ni.jsx)("button",{className:l,"data-testid":"complete-button",disabled:u,children:(0,ni.jsx)("span",{className:"white-checkmark",children:(0,ni.jsx)(fs,{})})}),_&&(0,ni.jsx)("div",{className:"adp-file-cancel-button-wrapper",children:(0,ni.jsx)("div",{className:"adp-confirm-close-btn",id:"cancel-download-btn",onClick:function(){a(ce.cancelDownload())},"data-testid":"cancel-button"})})]})})},Is=function(){var e=(0,ci.useTranslations)(),t=(0,r.v9)((function(e){return e.asset})),n=(0,r.v9)((function(e){return e.user.premium_video_subscription_enabled})),i=(0,r.v9)((function(e){return e.calc.step.ctaAction})),a=(0,r.v9)((function(e){return e.calc.step.viewLicenseSelection})),s=(0,r.v9)((function(e){return e.calc.step.extendedLicenseFlow})),o=(0,r.v9)((function(e){return e.user.country_code})),c=a&&s,l=(0,Zi.useGtm)(),d=Tt.extendedLicenseFastCheckoutCountries.includes(o);return(0,ni.jsx)("a",{className:"hollow-cta adp-plans-and-pricing-cta","data-testid":"pnp-cta",href:t.isFilm&&!n?"/"+e("urls.plans_and_pricing_video"):(n||d)&&i===Tt.redirectToFastCheckoutWithPacksForExtLicenceAction()?"/"+e("urls.plans_and_pricing_credit_packs"):"/"+e("urls.plans_and_pricing"),onClick:function(){var e="adp_buy_card_"+(c?"extended_license_":"")+"view_plans_and_pricing_button";l.trackEvent("adpInteraction",{adp_interaction:"ADP_PnP_Button_Click",adp_selection:"ADP_PnP_Button_Option",ui_element_location:e,istock_collection:t.istockCollection})},children:e("view_plans_and_pricing")})},Es="RedownloadAgreement-module__container___tTLWj",Ts=function(){var e,t=(0,r.v9)((function(e){return e.buyCardData.licenseOverviewPath})),n=(0,ci.useTranslations)();return(0,ni.jsx)("div",{className:Es,"data-testid":"redownload-agreement",children:(0,ni.jsx)("span",{dangerouslySetInnerHTML:(e=n("redownload_free_agreements",{links:[{href:""+t,target:"new"}]}),{__html:e})})})},Cs="CompleteDownload-module__container___ZpfET",Ns="CompleteDownload-module__boldText___URhLW",bs=function(){var e=(0,r.v9)((function(e){return e.calc.step.dropboxEnabled})),t=(0,r.v9)((function(e){return e.asset})),n=hs(),i=e?"download_again":"issues_download_again",a=(0,ci.useTranslations)(),s=function(e){return{__html:e}};return(0,ni.jsxs)("section",{className:"adp-content-animation-fade","data-testid":"complete-download",children:[(0,ni.jsx)("div",{className:Cs,children:(0,ni.jsx)("span",{dangerouslySetInnerHTML:s(a(e&&t.isFilm?"successful_download_dropbox_video":e&&t.isIllustration?"successful_download_dropbox_illustration":e?"successful_download_dropbox_photo":t.isFilm?"successful_download_local_video":t.isIllustration?"successful_download_local_illustration":"successful_download_local_photo",{start_strong:"<strong class="+Ns+">",end_strong:"</strong>"}))})}),(0,ni.jsx)("div",{onClick:function(e){"redownload-for-free"!=e.target.id||n.createDownload()},children:(0,ni.jsx)("span",{id:"download-again",dangerouslySetInnerHTML:s(a(i,{links:[{href:"#",id:"redownload-for-free"}]}))})})]})},xs="SubscribeToPremiumVideo-module__container___lX1nR",ys="SubscribeToPremiumVideo-module__buttonCta___eYfse";function As(e,t,n,i,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}var Os=function(){var e=Yr(),t=(0,ci.useTranslations)(),n=(0,r.v9)((function(e){return e.calc.step.triggerSubscribeTracking})),i=function(){var t,i=(t=_s().mark((function t(i){return _s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.preventDefault(),n&&n(),t.next=4,e.redirectToPricing();case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(i,a){var r=t.apply(e,n);function s(e){As(r,i,a,s,o,"next",e)}function o(e){As(r,i,a,s,o,"throw",e)}s(void 0)}))});return function(e){return i.apply(this,arguments)}}();return(0,ni.jsx)("div",{className:"subscribe-to-premium-video","data-testid":"subscribe-to-premium-video",children:(0,ni.jsx)("div",{className:xs,children:(0,ni.jsx)("button",{className:ys,type:"submit","data-testid":"subscribe-to-premium-video-button",onClick:i,children:(0,ni.jsx)("span",{role:"title",children:t("subscribe_to_premium_plus_video")})})})})},Ds="VideoEditorButton-module__button___WLNa6",ks="VideoEditorButton-module__container___oreap",js="VideoEditorButton-module__icon___ZTF7C",Ls=function(e){var t=e.show,n=e.url,i=e.isImage,a=(0,ci.useTranslations)();return t?(0,ni.jsx)("div",{className:ks,children:(0,ni.jsxs)("span",{className:Ds,role:"button",onClick:function(){return oa("adpInteraction",{adp_interaction:i?"Image_ADP_Make_a_Video_Button_BuyCard_Click":"ADP_Editor_Link_Click",adp_selection:i?"ADP_Make_a_video":null==(e=window.tracking_data)?void 0:e.page_name,ui_element_location:"adp_tools_buycard"}),void window.open(n);var e},"data-testid":"adp-editor-link",target:"_blank",rel:"noreferrer",children:[(0,ni.jsx)("span",{className:js,children:i?(0,ni.jsx)(ga,{}):(0,ni.jsx)(ua,{})}),a(i?"make_a_video":"edit_this_video"),(0,ni.jsx)(ma,{children:a("new_all_caps")})]})}):null},Rs="ImageEditorButton-module__button___xEmM4",Ps="ImageEditorButton-module__container___ESy_d",Fs="ImageEditorButton-module__icon___loHQP",Ms=function(e){var t=e.show,n=e.url,i=e.isIllustration,a=(0,ci.useTranslations)();return t?(0,ni.jsx)("div",{className:Ps,children:(0,ni.jsxs)("span",{className:Rs,role:"button",onClick:function(){return oa("adpInteraction",{adp_interaction:"ADP_Editor_Link_Click",adp_selection:null==(e=window.tracking_data)?void 0:e.page_name,ui_element_location:"adp_tools_buycard"}),void window.open(n);var e},"data-testid":"adp-editor-link",target:"_blank",rel:"noreferrer",children:[(0,ni.jsx)("span",{className:Fs,children:(0,ni.jsx)(ua,{})}),a(i?"edit_this_illustration":"edit_this_photo")]})}):null},Us=function(){var e,t=(0,r.v9)((function(e){return e.asset})),n=t.editable,a=t.experiences,s=t.editableInVideoEditor,o=t.isImage,c=t.videoEditorPath,l=t.editorPath,d=t.isIllustration,u=(0,r.v9)((function(e){return e.user.fast_checkout_sub})),_=(0,r.v9)((function(e){return e.user.fast_checkout_sub_savings})),p=(0,r.v9)((function(e){return e.user.video_pricing_clarity_variance})),m=(0,r.v9)((function(e){return e.calc.step.showAccountChoices})),f=(0,r.v9)((function(e){return e.calc.step.showDownloadChoices})),h=(0,r.v9)((function(e){return e.calc.step.showPricingClarity})),g=(0,r.v9)((function(e){return e.calc.step.showSubscribeToPremiumVideo})),v=(0,r.v9)((function(e){return e.calc.step.viewLicenseSelection})),w=(0,r.v9)((function(e){return e.calc.step.warningBox})),S=(0,r.v9)((function(e){return e.buyCardData.licenseOverviewPath})),I=(0,r.v9)((function(e){return e.calc.step.extendedLicenseFlow})),E=(0,r.v9)((function(e){return e.calc.redownloadForFree})),T=(0,r.v9)((function(e){return e.calc.step.completeSection})),C="Test"===a.AdpImageVideoEditorButtonTest,N=(0,ci.useTranslations)(),b=Na(),x=function(){return!!I||!!h&&(u||_||p)},y=g||I||E||!x();return(0,i.useEffect)((function(){b.setTrackingDataElement("downloadActions",h&&!v?"clarity":"default")}),[h,v]),(0,ni.jsxs)("section",{className:"adp-file-download","data-testid":"download-pricing",children:[w&&(0,ni.jsx)(ts,{}),h&&!v&&(0,ni.jsx)(as,{}),f&&(0,ni.jsx)(os,{}),m&&(0,ni.jsx)(ds,{}),g&&(0,ni.jsx)(Os,{}),(0,ni.jsx)(Ss,{fullWidth:y}),x()?(0,ni.jsx)(Is,{"data-testid":"pnp-cta-container"}):null,v&&(0,ni.jsx)("span",{className:"not_sure_license","data-testid":"not-sure-license-link",dangerouslySetInnerHTML:(e=N("not_sure_what_license",{links:[{href:""+S,target:"new"}]}),{__html:e})}),T&&(0,ni.jsx)(bs,{}),(0,ni.jsx)(Ls,{show:!C&&s,url:c,isImage:o}),(0,ni.jsx)(Ms,{show:!C&&n&&o,url:l,isIllustration:d}),E&&!T&&(0,ni.jsx)(Ts,{})]})},Bs=function(){var e,t=(0,r.v9)((function(e){return e.buyCardData.restrictedUsesPath})),n=(0,ci.useTranslations)();return(0,ni.jsxs)("section",{className:"editorial-use-only","data-testid":"editorial-use-only",children:[(0,ni.jsx)("span",{dangerouslySetInnerHTML:(e=n("editorial_use_only_with_link",{links:[{href:""+t,target:"_blank"}]}),{__html:e})}),(0,ni.jsxs)("span",{className:"tooltip",children:["?",(0,ni.jsx)("span",{className:"tooltip_contents",children:n("editorial_use_clarification")})]})]})},zs=function(e){var t=e.title,n=e.canPeekAtCost,i=e.showCreditCost,a=e.redownloadSection,s=(0,r.v9)((function(e){return e.buyCardData})).geoPricingPromoPolicy,o=s.showTestA,c=s.showTestB,l=(0,r.v9)((function(e){return e.calc.totalCreditCost})),d=(0,ci.useTranslations)();return(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)("div",{className:"download-actions__header--geo-test","data-testid":"header-geo-promo",children:(0,ni.jsx)("span",{children:d("new_lower_prices")})}),(0,ni.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:[o&&(0,ni.jsxs)("span",{className:"card-title__sub-title","data-testid":"test-a",children:[t&&(0,ni.jsx)("span",{"data-testid":"title",children:d(t)}),t&&(i||n)&&(0,ni.jsx)("span",{children:" | "}),(i||n)&&(0,ni.jsx)("span",{"data-testid":"credit-cost",children:(0,ni.jsx)(Fr,{totalCreditCost:l})})]}),c&&(0,ni.jsx)("span",{className:"card-title__sub-title","data-testid":"test-b",children:a&&t?(0,ni.jsx)("span",{"data-testid":"title",children:d(t)}):(0,ni.jsx)("span",{"data-testid":"subtitle",children:d("high_quality_for_projects")})})]})]})},Gs=["styles"];function Ws(){return Ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ws.apply(this,arguments)}var Hs=function(e){var t=e.styles,n=void 0===t?{}:t,i=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Gs);return a().createElement("svg",Ws({width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i),a().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__bg"]||"icons-unisporkal-istock-tooltip-svg__bg",d:"M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z"}),a().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__border"]||"icons-unisporkal-istock-tooltip-svg__border",d:"M12 1c6.065 0 11 4.935 11 11s-4.935 11-11 11S1 18.065 1 12 5.935 1 12 1zm0-1C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0z"}),a().createElement("path",{className:n["icons-unisporkal-istock-tooltip-svg__icon"]||"icons-unisporkal-istock-tooltip-svg__icon",d:"M12.834 13.443v.112h-2.158v-.252c0-1.71 2.34-1.835 2.34-3.264 0-.616-.45-.98-1.262-.98-.658 0-1.33.238-1.877.84l-1.19-1.415c.91-.854 1.947-1.302 3.277-1.302 1.976 0 3.349.98 3.349 2.69 0 2.31-2.48 2.52-2.48 3.57zm-1.065.714c.728 0 1.33.603 1.33 1.331a1.33 1.33 0 11-1.33-1.33z"}))},Vs=function(e){var t=e.tooltipText,n=(0,r.v9)((function(e){return e.asset})),i=(0,Zi.useGtm)();return(0,ni.jsx)("div",{className:"istock-info-tooltip","data-testid":"info-tooltip",onMouseOver:function(){var e=n.isEssentialImage?"essential":"signature";i.trackEvent("notificationTooltipInteraction",{tooltip_interaction:"Viewed",tooltip_selection:"adp_tooltip_collection_definition_"+e,ui_element_location:"adp_buy_card_tooltip_collection_definition"})},children:(0,ni.jsx)("div",{className:"tooltip-container",children:(0,ni.jsx)("div",{className:"istock_tooltip tooltip--top tooltip--inline",children:(0,ni.jsxs)("div",{className:"tooltip__trigger-container",children:[(0,ni.jsx)(Hs,{className:"tooltip__icon"}),(0,ni.jsx)("span",{className:"tooltip__content",children:t})]})})})})},Ys=function(e){var t=e.title,n=e.canPeekAtCost,i=e.showCreditCost,a=e.showPricingClarity,s=(0,ci.useTranslations)(),o=(0,r.v9)((function(e){return e.user.team_name})),c=(0,r.v9)((function(e){return e.buyCardData.downloadActionsPolicy.showInfoTooltip})),l=(0,r.v9)((function(e){return e.buyCardData.pricingClarityTranslations.tooltipText})),d=(0,r.v9)((function(e){return e.calc.totalCreditCost}));return(0,ni.jsxs)(ni.Fragment,{children:[(i||n)&&(0,ni.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,ni.jsx)("div",{className:"download-actions__header",children:(0,ni.jsx)(Fr,{totalCreditCost:d})})}),t&&(0,ni.jsxs)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:[(0,ni.jsx)("span",{"data-testid":"title",children:s(t,{team_name:o})}),a&&(0,ni.jsx)("span",{children:c&&(0,ni.jsx)(Vs,{tooltipText:l})})]})]})},Ks=function(e){var t=e.title,n=(0,ci.useTranslations)(),i=(0,r.v9)((function(e){return e.user.team_name})),a=(0,r.v9)((function(e){return e.asset.assetCost}));return(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)("div",{id:"asset-price",className:"asset-price","data-testid":"asset-price-default-header",children:(0,ni.jsx)("div",{className:"download-actions__header",children:a})}),t&&(0,ni.jsx)("h2",{id:"card-title",className:"adp-card-title adp-fade-and-slide adp-set-max-height adp-card-title--with-tooltip",children:(0,ni.jsx)("span",{"data-testid":"title",children:n(t,{team_name:i})})})]})},qs=function(){var e=(0,r.v9)((function(e){return e.asset})),t=(0,r.v9)((function(e){return e.calc.step.title})),n=(0,r.v9)((function(e){return e.calc.step.showCreditCost})),i=(0,r.v9)((function(e){return e.calc.step.showPricingClarity})),a=(0,r.v9)((function(e){return e.calc.step.redownloadSection})),s=(0,r.v9)((function(e){return e.calc.hasSelectedOptionalLicenses})),o=(0,r.v9)((function(e){return e.calc.selectedAgreementType})),c=(0,r.v9)((function(e){return e.buyCardData.geoPricingPromoPolicy.show})),l=s&&o,d=(0,r.v9)((function(e){return e.asset.experiences.mobileSimplification})),u=(0,ci.useTranslations)();return e.freeFile?(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)(Mr,{}),t&&(0,ni.jsx)("h2",{id:"card-title",role:"title",className:"adp-card-title adp-fade-and-slide adp-set-max-height",children:u(t)})]}):c?(0,ni.jsx)(zs,{title:t,canPeekAtCost:l,showCreditCost:n,redownloadSection:a}):d?(0,ni.jsx)(Ks,{title:t}):(0,ni.jsx)(Ys,{title:t,canPeekAtCost:l,showCreditCost:n,showPricingClarity:i})},Js=function(){var e=(0,ci.useTranslations)();return(0,ni.jsx)("div",{className:"adp-content-animation-fade redownload","data-testid":"redownload",children:(0,ni.jsx)("div",{className:"adp-btn-flow-text",children:(0,ni.jsx)("small",{children:e("you_already_downloaded")})})})},Zs=function(){var e,t=(0,r.v9)((function(e){return e.buyCardData.licenseAgreement})),n=(0,ci.useTranslations)();return(0,ni.jsx)("div",{className:"adp-content-animation-fade","data-testid":"license-disclaimer",children:(0,ni.jsx)("div",{className:"adp-btn-flow-text",id:"license-agreement-link",children:(0,ni.jsx)("small",{dangerouslySetInnerHTML:(e=n("credit_license_agreement",{links:[{href:t}]}),{__html:e})})})})},Qs="MobileSimplificationTestCtaModal-module__mobileCtaModal___T98g4",Xs="MobileSimplificationTestCtaModal-module__mobileCtaWrapper___vhs6o",$s="MobileSimplificationTestCtaModal-module__notification-container-margin___bBGtd",eo="MobileSimplificationTestCtaModal-module__footer-margin-bottom___QlbfG",to=function(e){var t=e.children,n=$s,a=eo;return(0,i.useEffect)((function(){var e=document.querySelector(".footer-copyright"),t=document.getElementById("react_customer_notifications");return e&&e.classList.add(a),t&&t.classList.add(n),function(){e&&e.classList.remove(a),t&&t.classList.remove(n)}}),[]),(0,ni.jsxs)("div",{className:Qs,id:"mobile-cta-modal","data-testid":"mobile-cta-modal",children:[t,(0,ni.jsx)("div",{className:Xs,children:(0,ni.jsx)(Ss,{fullWidth:!0})})]})},no=n(94184),io=n.n(no),ao=n(78672),ro=["styles"];function so(){return so=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},so.apply(this,arguments)}var oo=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,ro);return a().createElement("svg",so({viewBox:"0 0 14 14",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},t),a().createElement("defs",null,a().createElement("path",{d:"M12.785.21L7.007 5.986 1.231.21A.71.71 0 00.227 1.212l5.78 5.78-5.78 5.78a.71.71 0 00.31 1.206.706.706 0 00.694-.203l5.778-5.78 5.78 5.78c.28.258.715.252.985-.019a.706.706 0 00.017-.985l-5.777-5.78 5.777-5.779A.71.71 0 0013.29 0a.71.71 0 00-.504.21z",id:"a"})),a().createElement("use",{xlinkHref:"#a",fillRule:"evenodd"}))},co="EpsSizeSelector-module__addtionalEpsInfoContainer___K4n8H",lo="EpsSizeSelector-module__addtionalEpsInfoMessage___CRKCa",uo="EpsSizeSelector-module__closeIcon___DjQgY",_o="EpsSizeSelector-module__exclamationMark____r_G2",po="hideExtraEpsInfo",mo=!1,fo=function(){var e="iStock|Product|VectorFCP",t="adp_learn_more_eps",n="adp_buy_card_eps_learn_more",a=(0,Zi.useGtm)(),r=(0,i.useState)(!window||!window.giLocalStorage||"true"!==window.giLocalStorage.getItem(po)),s=r[0],o=r[1],c=function(){o(!1),window.giLocalStorage.setItem(po,"true")},l=function(){a.trackEvent("adpInteraction",{adp_interaction:t+"_click",adp_selection:e,ui_element_location:n})};return!!s&&(mo||(a.trackEvent("adpInteraction",{adp_interaction:t+"_shown",adp_selection:e,ui_element_location:n}),mo=!0),(0,ni.jsxs)("div",{className:co,"data-testid":"eps-size-description-test",children:[(0,ni.jsx)(oo,{className:uo,onClick:c}),(0,ni.jsx)(es,{className:_o}),(0,ni.jsxs)("div",{className:lo,children:[(0,ni.jsx)("div",{children:" EPS files require design software."}),(0,ni.jsx)("a",{href:"/faq/using-files#vector-edit",target:"_blank",onClick:l,"data-testid":"eps-learn-more",children:" Learn more > "})]})]}))},ho="SizesAndFormatsModal-module__modalContainer___wmONS",go="SizesAndFormatsModal-module__modalBody___xAUvI",vo="SizesAndFormatsModal-module__modalRow___RaSeW",wo="SizesAndFormatsModal-module__subTitle___SoTPP",So=function(){var e=(0,ci.useTranslations)(),t=(0,Zi.useGtm)().trackEvent,n=[{title:"size_format_4k",content:"maintain_high_quality_output"},{title:"size_format_hd",subTitle:"size_format_prores",content:"high_quality_full_hd_file"},{title:"size_format_hd",content:"most_commonly_used_format"},{title:"size_format_hd_web",content:"ideal_for_full_screen_web_projects"},{title:"web",content:"good_for_small_web_projects"}],i=function(){return(0,ni.jsx)(ni.Fragment,{children:n.map((function(t,n){var i=t.title,a=t.subTitle,r=t.content;return(0,ni.jsxs)("div",{className:vo,children:[(0,ni.jsxs)("div",{children:[(0,ni.jsx)("h3",{children:e(i)}),a&&(0,ni.jsx)("h3",{className:wo,children:e(a)})]}),(0,ni.jsx)("p",{children:e(r)})]},n)}))})};return(0,ni.jsx)(ao.Modal,{modalClassName:ho,onClose:function(){t("adpInteraction",{adp_interaction:"Video_ADP_Modal_Dismiss",adp_selection:"video_adp_modal_x",ui_element_location:"video_adp_size_and_format_modal"})},children:function(){return(0,ni.jsx)(ni.Fragment,{children:(0,ni.jsxs)("div",{className:go,"data-testid":"sizes-formats-modal-body",children:[(0,ni.jsx)("h2",{children:e("video_sizes_and_formats")}),(0,ni.jsx)("p",{children:e("find_the_right_format")}),i()]})})}})},Io={helpMeChoose:"AssetSizeTileSelector-module__helpMeChoose___Oah1y",noWrap:"AssetSizeTileSelector-module__noWrap___kUrBH",sizeDescriptionContainer:"AssetSizeTileSelector-module__sizeDescriptionContainer___m2A4m"},Eo=["image","raster","vector","film"],To=["Web","SD","HD_Web","HD","4K"],Co=function(e,t,n){return t.find((function(t){return n?t.name===e:t.teeShirtSize===e}))},No=function(){var e=(0,r.I0)(),t=(0,r.v9)((function(e){return e.asset})),n=(0,r.v9)((function(e){return e.calc.step})),a=(0,r.v9)((function(e){return e.calc.selectedAssetSize})),s=(0,ci.useTranslations)(),o=t.assetType,c=(0,r.v9)((function(e){return e.user.authenticated})),l=(0,ao.useModal)().showModal,d=(0,Zi.useGtm)().trackEvent,u=t.sizes.toArray().filter((function(e){return null!=e.description})),_=Eo.includes(o)&&(n.showTshirtSizes||t.isFilm&&!c),m=(0,i.useState)(null),f=m[0],h=m[1];(0,i.useEffect)((function(){if(!a){var n=function(e,t,n){if(!n)return Co(e,t,n);if(e){var i=e.name,a=e.definition,r=t.find((function(e){return e.name===i}));if(r)return r;var s=t.filter((function(e){return e.definition===a}));if(1===s.length)return s[0];if(s.length>1)return s.find((function(e){return"H.264"===e.codec}))||s[0];var o=To.findIndex((function(e){return e===a}));if(-1!==o)for(var c=function(e){var n=To[e],i=t.filter((function(e){return e.definition===n}));return 1===i.length?{v:i[0]}:i.length>1?{v:i.find((function(e){return"H.264"===e.codec}))||i[0]}:void 0},l=o;l<To.length;l++){var d=c(l);if("object"==typeof d)return d.v}}}(t.isFilm?p.getVideoPreferredSize():p.getPreferredSize(),u,t.isFilm);e(ce.selectAssetSize(n||u[u.length-1]))}}),[]);var g,v,w,S=function(){return f||a},I=function(e){h(C(e))},E=function(){h(null)},T=function(e){N(C(e))},C=function(e){var n=e.target.attributes.name.value;return Co(n,u,t.isFilm)},N=function(n){e(ce.selectAssetSize(n)),t.isFilm||p.setPreferredSize(n.teeShirtSize),t.isFilm&&p.setPreferredVideoSize(n.name,n.definition)},b=function(){var e,t="size-description";return null!=(e=S())&&e.epsUnavailable&&(t+=" eps-unavailable-warning"),t},x=function(e){var t="tile";return a===e&&(t+=" selected-tile"),e.epsUnavailable&&(t+=" no-eps"),t},y=function(e){return(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsxs)("span",{children:[e.pixels,"",e.codec]}),(0,ni.jsx)("span",{className:"divider",children:"|"}),(0,ni.jsxs)("span",{className:Io.noWrap,children:[e.frameRate," fps",(0,ni.jsx)("span",{className:"divider",children:"|"})]}),(0,ni.jsx)("span",{className:Io.noWrap,children:e.contentType}),e.hasFileSize&&(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)("span",{className:"divider",children:"|"}),(0,ni.jsx)("span",{className:Io.noWrap,children:e.fileSize})]})]})},A=function(){return d("adpInteraction",{adp_interaction:"Video_ADP_Help_Me_Choose_Link_Click",adp_selection:"video_adp_help_me_choose",ui_element_location:"video_adp_buy_card_help_me_choose_link"}),l((0,ni.jsx)(So,{}))},O=function(e){if(t.isFilm)return e.label;var n=p.getSizeMap()[e.teeShirtSize];return e.isEps||e.epsUnavailable?n:s(n)},D=function(e){if("undefined"!=typeof window&&window.tracking_data)if(window.tracking_data.ab_test_variation){if(window.tracking_data.ab_test_variation.includes(e))return;window.tracking_data.ab_test_variation+="|"+e}else window.tracking_data.ab_test_variation=e};if(t.isVector)switch(t.experiences.VectorDefaultSize){case"Control":D("is_adp_vector_size-control");break;case"Test":D("is_adp_vector_size-expA")}return _?(0,ni.jsx)("section",{className:"adp-fade-and-slide adp-set-max-height","data-testid":"AssetSizeTileSelector",children:(0,ni.jsxs)("div",{className:"sizes",children:[(0,ni.jsx)("ol",{className:o+" tiles",role:"list",children:u.map((function(e){var n=t.isFilm?e.name:e.teeShirtSize;return(0,ni.jsx)("li",{"aria-label":O(e),className:x(e),id:"download-size-"+n,name:n,onClick:T,onMouseOver:I,onMouseOut:E,role:"listitem",children:O(e)},n)}))}),(w=S(),w?(g=a,v=f,"Test"===t.experiences.VectorDefaultSize&&t.isVector&&(!v||v.isEps)&&g&&g.isEps?(0,ni.jsxs)("div",{className:b(),children:[" ",w.description,(0,ni.jsx)(fo,{})]}):t.isFilm?(0,ni.jsxs)("div",{className:io()(b(),Io.assetMetaData,Io.sizeDescriptionContainer),children:[y(w),t.experiences.VideoSizeFormatsModal&&(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)("span",{className:"divider",children:"|"}),(0,ni.jsx)("a",{className:io()(Io.helpMeChoose,Io.noWrap),"data-testid":"HelpMeChooseLink",onClick:A,children:s("help_me_choose")})]})]}):(0,ni.jsxs)("div",{className:b(),children:[" ",w.epsUnavailable?s(w.description):w.description," "]})):null)]})}):null},bo=function(){return!(0,r.v9)((function(e){return e.calc.step.viewLicenseSelection}))&&(0,ni.jsx)("section",{className:"size-options adp-licenses adp-fade-and-slide","data-testid":"size-options",children:(0,ni.jsx)(No,{})})},xo=function(){var e=(0,r.v9)((function(e){return e.calc.step.showSubTypeMessage})),t=(0,r.v9)((function(e){return e.calc.step.dropboxEnabled})),n=(0,r.v9)((function(e){return e.asset.freeFile})),i=(0,ci.useTranslations)();return(0,ni.jsxs)(ni.Fragment,{children:[e&&!n&&(0,ni.jsx)("div",{className:"adp-warning-box sub-type-message","data-testid":"info-subs",children:(0,ni.jsx)("span",{children:i("available_with_your_subscription")})}),t&&(0,ni.jsx)("div",{className:"adp-warning-box dropbox-message sub-type-simple-message","data-testid":"info-dropbox",children:(0,ni.jsx)("span",{children:i("download_workflow.download_will_be_saved_to_dropbox")})})]})},yo="Licenses-module__subDescription___SUVS9",Ao=function(){var e=(0,r.v9)((function(e){return e.licenses})).toArray(),t=(0,ci.useTranslations)(),n=(0,r.I0)(),i=function(e){var t=[];return e.is_acquired_and_not_repurchasable&&t.push("acquired"),e.is_selected&&t.push("selected checkbox-selected"),(e.is_purchase_required||e.is_acquired_and_not_repurchasable)&&t.push("disabled"),t.join(" ")};return(0,ni.jsxs)("section",{className:"adp-licenses","data-testid":"adp-licenses",children:[(0,ni.jsxs)("header",{className:"el-header",children:[(0,ni.jsx)("h2",{children:t("add_licenses")}),(0,ni.jsx)("div",{className:"el-close-btn",onClick:function(){n(ce.closeLicensePicker())}})]}),(0,ni.jsxs)("div",{children:[(0,ni.jsxs)("div",{className:"el-title",children:[(0,ni.jsx)("div",{className:"el-title-licenses",children:t("license_types")}),(0,ni.jsx)("div",{className:"el-title-credits",children:t("istock_credits")})]}),(0,ni.jsx)("hr",{}),(0,ni.jsx)("ul",{"data-testid":"license-list",children:e.map((function(e,t){return(0,ni.jsxs)("li",{className:i(e),"data-testid":"license-listitem",children:[(0,ni.jsx)("label",{htmlFor:"el_"+t,children:(0,ni.jsx)("span",{className:"checkbox",children:(0,ni.jsx)("input",{id:"el_"+t,type:"checkbox",disabled:e.is_purchase_required||e.is_acquired_and_not_repurchasable?"disabled":"",onClick:function(){return function(e){n(ce.checkLicense(e))}(t)}})})}),(0,ni.jsxs)("label",{className:"el-license-description "+(e.sub_description?"elLicenseDescription--small":""),htmlFor:"el_"+t,"data-testid":"license-description",children:[e.description,e.sub_description&&(0,ni.jsx)("p",{className:yo,htmlFor:"el_"+t,"data-testid":"license-sub-description",children:e.sub_description})]}),(0,ni.jsx)("label",{className:"el-credit-cost",htmlFor:"el_"+t,children:e.credit_cost})]},""+e.license_type)}))})]})]})},Oo=function(){var e=(0,r.v9)((function(e){return e.asset})),t=(0,r.v9)((function(e){return e.calc.step.completeSection})),n=(0,r.v9)((function(e){return e.calc.step.isConfirmationState})),i=(0,r.v9)((function(e){return e.calc.step.redownloadSection})),a=(0,r.v9)((function(e){return e.calc.step.viewLicenseSelection})),s=(0,r.v9)((function(e){return e.calc.redownloadForFree})),o=(0,r.v9)((function(e){return e.asset.experiences.mobileSimplification})),c=(0,r.v9)((function(e){return e.asset.assetCost})),l=(0,r.v9)((function(e){return e.calc.totalCreditCost}));return(0,ni.jsxs)("div",{className:"download-actions","data-testid":"download-actions",children:[(0,ni.jsxs)("form",{className:"istock-download-form",role:"form",children:[a?(0,ni.jsxs)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:[(0,ni.jsx)(Ur,{}),(0,ni.jsx)(Ao,{})]}):(0,ni.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"header",children:[(0,ni.jsx)(qs,{isMobileSimplificationTest:o}),e.isEditorialUseOnly&&(0,ni.jsx)("div",{className:"editorial-bubble",children:(0,ni.jsx)(Bs,{})}),!s&&!t&&(0,ni.jsx)(xo,{}),(0,ni.jsx)(bo,{})]}),!o&&(0,ni.jsx)(Us,{}),i&&!e.freeFile&&(0,ni.jsx)(Js,{}),n&&(0,ni.jsx)(Zs,{})]}),o&&(0,ni.jsx)(to,{children:(0,ni.jsxs)("div",{"data-testid":"mobile-cta-header",children:[c," | ",(0,ni.jsx)("span",{className:"grey-cta-modal-text",children:(0,ni.jsx)(Fr,{totalCreditCost:l})})]})})]})},Do=function(e){var t=e.editable,n=e.isFilm,i=(0,ci.useTranslations)(),a=t&&!n;return(0,ni.jsxs)("ul",{children:[t&&n&&(0,ni.jsx)("li",{children:(0,ni.jsx)("span",{className:"bullet-list__small","data-testid":"create-video-projects-with-editor",children:i("create_video_projects_with_editor")})}),(0,ni.jsx)("li",{children:(0,ni.jsx)("span",{className:"bullet-list__small",children:i("save_and_share")})}),(0,ni.jsx)("li",{children:(0,ni.jsx)("span",{className:"bullet-list__small",children:i("track_download_history")})}),(0,ni.jsx)("li",{children:(0,ni.jsx)("span",{className:"bullet-list__small",children:i("complete_purchase_faster")})}),a&&(0,ni.jsx)("li",{children:(0,ni.jsx)("span",{className:"bullet-list__small","data-testid":"and-much-more",children:i("and_much_more")})})]})},ko=function(){var e=(0,r.v9)((function(e){return e.asset})),t=(0,r.v9)((function(e){return e.calc.step.viewLicenseSelection})),n=(0,r.v9)((function(e){return e.buyCardData.signInPath})),i=(0,ci.useTranslations)(),a=(0,Zi.useGtm)(),s=e.isFilm?"sign-in__test sign-in__extra-space":"sign-in__test";return(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)("div",{className:"download-actions sign-in-actions","data-testid":"sign-in-actions",children:(0,ni.jsx)("form",{className:"istock-download-form",children:t?(0,ni.jsx)("section",{className:"el-table adp-fade-and-slide","data-testid":"download-actions-header",children:(0,ni.jsx)(Ur,{})}):(0,ni.jsxs)("section",{className:"adp-licenses adp-fade-and-slide",role:"header",children:[(0,ni.jsx)(qs,{}),(0,ni.jsx)("hr",{}),e.isEditorialUseOnly&&(0,ni.jsx)("div",{className:"editorial-bubble",children:(0,ni.jsx)(Bs,{})}),(0,ni.jsx)("h4",{className:"sign-in__heading",children:i("sign_in_better_experience_colon")}),(0,ni.jsx)(Do,{isFilm:e.isFilm,editable:e.editable}),(0,ni.jsx)("a",{className:"cta primary-cta",href:n,onClick:function(){a.trackEvent("adpInteraction",{adp_interaction:"ADP_Buy_Card_Sign_in_Button_Click",adp_selection:"adp_sign_in",ui_element_location:"adp_buy_card"})},"data-testid":"sign-in-cta",children:i("sign_in")})]})})}),(0,ni.jsx)("hr",{className:s})]})},jo=function(e){var t=e.text,n=e.href,i=e.count,a=Na();return(0,ni.jsxs)(ni.Fragment,{children:[i>1&&(0,ni.jsx)("span",{children:" | "}),(0,ni.jsx)("span",{itemScope:!0,itemProp:"itemListElement",itemType:"https://schema.org/ListItem",children:(0,ni.jsxs)("a",{href:n,itemProp:"item","data-testid":"category-link-"+i,onClick:function(){return e=t,void a.categoriesLink(e);var e},children:[(0,ni.jsx)("meta",{itemProp:"position",content:i}),(0,ni.jsx)("span",{itemProp:"name",children:t})]})})]})},Lo=function(e){var t=e.ftlpCategory,n=e.parentKeywordCategory,i=e.matchingInspirePages,a=(0,ci.useTranslations)();i.toJSON();return(0,ni.jsxs)("div",{className:"asset-categories",itemScope:!0,itemType:"https://schema.org/BreadcrumbList","data-testid":"asset-categories",children:[(0,ni.jsx)("span",{children:a("categories")}),(0,ni.jsx)(jo,{text:a(t.text),href:t.href,count:"1"}),(0,ni.jsx)(jo,{text:n.text,href:n.href,count:"2"})]})},Ro="Details-module__contributor_text___cWW8U",Po=function(){var e=(0,r.v9)((function(e){return e.asset})),t=(0,r.v9)((function(e){return e.calc.isInPricingClarity})),n=(0,r.v9)((function(e){return e.calc.largestSizeAvailable})),i=(0,ci.useTranslations)(),a=e.assetId,s=e.assetCost,o=e.assetSubmittedDate,c=e.exclusiveContent,l=e.downloadSavingsDisclaimer,d=e.contributor,u=d.displayName,_=d.pictureUrl,p=d.memberUrl,m=(e.keywords,e.isIllustration),f=e.isFilm,h=e.isEssentialImage,g=e.categoriesView,v=Na(),w=t,S=g&&g.matchingInspirePages[0]&&g.matchingInspirePages[0].text,I=g&&g.parentKeywordCategory&&g.parentKeywordCategory.text,E=g&&g.ftlpCategory.text&&(I||S),T=n?n.description:"";return(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)("div",{className:"adp-contributor","data-testid":"asset-contributor",children:(0,ni.jsxs)("a",{className:"photographer","data-testid":"photographer",href:p,onClick:function(){return v.setUiElementLocation("contributor_credit_adp")},children:[(0,ni.jsx)("img",{"data-testid":"photographer-image",className:"adp-contributor-avatar",style:{backgroundImage:"url("+_+")"},viewBox:"0 0 98 98"}),(0,ni.jsx)("span",{className:Ro,children:i("credit")}),(0,ni.jsx)("span",{children:u})]})}),w&&T&&(0,ni.jsxs)("div",{"data-testid":"largest-size-content",className:"size-description",children:[(0,ni.jsx)("span",{children:i("attributes.largest_size_available")}),(0,ni.jsx)("span",{"data-testid":"largest-size-description",children:T})]}),(0,ni.jsxs)("div",{className:"asset-id","data-testid":"asset-id",children:[(0,ni.jsx)("span",{children:i(m?"attributes.stock_illustration_id":f?"attributes.stock_video_id":"attributes.stock_photo_id")}),(0,ni.jsx)("span",{children:a})]}),(0,ni.jsxs)("div",{className:"asset-upload-date","data-testid":"asset-upload-date",children:[(0,ni.jsx)("span",{children:i("upload_date")}),(0,ni.jsx)("span",{children:o})]}),E&&(0,ni.jsx)(Lo,{ftlpCategory:g.ftlpCategory,parentKeywordCategory:g.parentKeywordCategory,matchingInspirePages:g.matchingInspirePages}),l&&(0,ni.jsx)("div",{className:"credits-usage-disclaimer","data-testid":"credits-usage-disclaimer",children:i(f?"video_asset_savings":h?"savings_based_on_essentials_image":"savings_based_on_signature_image",{file_cost:s})}),c&&(0,ni.jsx)("h5",{className:"exclusive","data-testid":"exclusive-content-label",children:i("exclusive_coverage_label")})]})},Fo=function(e){var t=e.licenseOverviewPath,n=(0,r.v9)((function(e){return e.calc.step.purchaseExtendedLicenseNotAllowed})),i=(0,ci.useTranslations)(),a=(0,Zi.useGtm)(),s=(0,r.I0)(),o=function(e){return{__html:e}};return!n&&(0,ni.jsx)("div",{className:"license-and-file-data","data-testid":"license-links",children:(0,ni.jsxs)("div",{children:[(0,ni.jsx)("hr",{}),(0,ni.jsxs)("div",{className:"license",children:[(0,ni.jsx)("span",{"data-testid":"standard-license-link",dangerouslySetInnerHTML:o(i("includes_standard_license",{links:[{href:""+t,target:"_blank",rel:"nofollow"}]}))}),(0,ni.jsx)("div",{id:"show_extended_licenses",className:"license__show-extended-licenses",onClick:function(e){e.preventDefault(),s(ce.pickOptionalLicenses()),a.trackEvent("adpInteraction",{adp_interaction:"ADP_Extended_License_Link_Click",adp_selection:"ADP_Extended_License"})},children:(0,ni.jsx)("span",{"data-testid":"extended-license-link",dangerouslySetInnerHTML:o(i("add_extended_license",{links:[{href:""}]}))})})]})]})})},Mo=["styles"];function Uo(){return Uo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Uo.apply(this,arguments)}var Bo=function(e){e.styles;var t=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,Mo);return a().createElement("svg",Uo({xmlns:"http://www.w3.org/2000/svg",width:"103.08",height:"96.199",viewBox:"2.608 1 103.08 96.199"},t),a().createElement("path",{fill:"#007EE5",d:"M33.36 2.125L3.609 21.55 24.18 38.025l29.999-18.523L33.36 2.125zM3.608 54.5L33.36 73.927l20.818-17.378-30-18.524L3.609 54.5zM54.18 56.549l20.818 17.378L104.75 54.5 84.178 38.025 54.18 56.55zM104.75 21.551L75 2.125 54.179 19.5l30 18.524 20.572-16.474z"}),a().createElement("path",{fill:"#007EE5",d:"M54.24 60.287L33.36 77.613l-8.933-5.833v6.54L54.24 96.199l29.814-17.88v-6.54l-8.933 5.834-20.88-17.326z"}))},zo="DropboxModal-module__dropboxIntroModal___sUnTK",Go="DropboxModal-module__dropboxIntroModalContent___cpNhG",Wo="DropboxModal-module__dropboxIntroModalText___oMUl4",Ho="DropboxModal-module__dropboxIcon___brp3H",Vo="DropboxModal-module__closeIcon___yODHe",Yo=function(e){var t=e.showDropboxModal,n=(0,ci.useTranslations)(),a=(0,Zi.useGtm)(),r=(0,i.useState)(t),s=r[0],o=r[1],c=null;(0,i.useEffect)((function(){t&&l()}),[t]);var l=function(){return o(!0),c=setTimeout((function(){u()}),3e4),function(){return clearTimeout(c)}},d=function(){clearTimeout(c),o(!1)},u=function(){p("DropboxCloseModal"),d()},_=function(){p("DropboxdontShowAgain"),d(),"undefined"!=typeof window&&window.giLocalStorage&&window.giLocalStorage.setItem("dropboxOptOut",!0)},p=function(e){a.trackEvent(e)};return(0,ni.jsx)(ni.Fragment,{children:s&&(0,ni.jsxs)("aside",{className:zo,id:"dropbox-intro-modal",role:"dialog",children:[(0,ni.jsx)(oo,{className:Vo,onClick:_,"data-testid":"close-link"}),(0,ni.jsxs)("div",{className:Go,children:[(0,ni.jsx)(Bo,{className:Ho,alt:n("dropbox")}),(0,ni.jsxs)("div",{className:Wo,children:[(0,ni.jsx)("div",{children:n("download_workflow.dropbox_save_your_downloads")}),(0,ni.jsx)("a",{href:"/account/apps",onClick:function(){return p("DropboxGetStarted")},children:n("download_workflow.get_started")+" >"})]})]})]})})},Ko=function(){var e=(0,r.v9)((function(e){return e.buyCardData.assetBuyCardContentPolicy.displayAdpSignInCta})),t=(0,r.v9)((function(e){return e.buyCardData.licenseOverviewPath})),n=(0,r.v9)((function(e){return e.calc.showDropboxModal})),i=(0,r.v9)((function(e){return e.calc.step.hideDetails})),a=(0,r.v9)((function(e){return e.calc.step.viewLicenseSelection}));return(0,ni.jsxs)("section",{children:[e?(0,ni.jsx)(ko,{}):(0,ni.jsxs)(ni.Fragment,{children:[(0,ni.jsx)(Oo,{}),!a&&(0,ni.jsx)(Fo,{licenseOverviewPath:t})]}),!i&&(0,ni.jsx)(Po,{}),(0,ni.jsx)(Yo,{showDropboxModal:n||!1})]})},qo="BuyAndBurnModal-module__modal__container___JDYE5",Jo="BuyAndBurnModal-module__modal__content___Atcrk",Zo="BuyAndBurnModal-module__modal__cta___QA1JM",Qo=function(){var e=(0,r.I0)(),t=(0,ci.useTranslations)(),n=(0,i.useState)(!0),a=n[0],s=n[1],o=hs(),c=(0,r.v9)((function(e){return e.asset.orderId})),l=(0,r.v9)((function(e){return e.calc.selectedAgreementSize}));(0,i.useEffect)((function(){a&&l&&(Je(ct("ADP_Modal_Shown"))(),e(G(!0)),o.createDownload())}),[l]);var d;return(0,ni.jsx)("aside",{children:a&&(0,ni.jsx)("div",{className:qo,children:(0,ni.jsxs)("div",{className:Jo,children:[(0,ni.jsx)("h2",{children:t("thanks_for_your_purchase")}),(0,ni.jsx)("p",{children:t("initiated_your_download")}),(0,ni.jsxs)("div",{children:[(0,ni.jsx)("p",{children:t("confirmation_sent_to_email")}),(0,ni.jsx)("p",{onClick:function(){ct("ADP_Modal_Order_ID_Click")},dangerouslySetInnerHTML:(d=t("view_order_here",{order_id:c,links:[{href:"/sales-order/"+c,target:"_blank"}]}),{__html:d})})]}),(0,ni.jsx)("span",{id:Zo,className:"hollow-cta button",onClick:function(){return Je(ct("ADP_Modal_Dismiss"))(),void s(!1)},children:t("got_it_cta")})]})})})},Xo=function(){var e=(0,r.v9)((function(e){return e.asset})),t=(0,r.v9)((function(e){return e.user.pricing_clarity_flow})),n=(0,r.v9)((function(e){return e.user.eligible_for_pricing_clarity_premium_video_subscription_flow})),a=(0,r.v9)((function(e){return e.user.free_trial_subscription_test_active})),s=(0,r.v9)((function(e){return e.displayError})),o=(0,Zi.useSpectrum)(),c=(0,r.v9)((function(e){return e.calc.includedWithSubscription})),l=(0,r.v9)((function(e){return e.calc.isInPricingClarity})),d=(0,r.v9)((function(e){return e.calc.step.name})),u=n&&t?"video-pricing-clarity-width":"",_=(0,r.v9)((function(e){return e.asset.experiences.mobileSimplification}))?"simplification-test-margin":"",p=(0,r.I0)();return Ka(),(0,i.useEffect)((function(){p(ce.goToInitialLoad()),o.sendAssetDetailsViewedSignal(Ya(),e)}),[]),(0,ni.jsxs)("div",{className:Za,children:[(0,ni.jsx)(Da,{}),(0,ni.jsxs)("div",{className:Qa,children:[e.orderId&&(e.buyAndBurn?(0,ni.jsx)(Qo,{}):(0,ni.jsx)(di,{})),(0,ni.jsx)(qa,{errorType:s}),(0,ni.jsx)(Ma,{asset:e,hasOnlyFromIstock:"Test"===e.experiences.AdpImageVideoEditorButtonTest}),(0,ni.jsxs)("section",{className:"comp "+u,children:[(0,ni.jsx)(ya,{asset:e.toObject(),hasActions:"Test"===e.experiences.AdpImageVideoEditorButtonTest}),(0,ni.jsx)(Aa,{descriptionContent:e.metaTags.seoCaption,editorialImage:e.isImage&&e.isEditorialUseOnly})]}),(0,ni.jsxs)("section",{className:"meta "+u+" "+_,children:[a&&(null==e?void 0:e.isEssentialImage)&&(0,ni.jsx)("p",{children:"Free Trial Subscription is Active"}),l?(0,ni.jsx)(Ko,{}):(0,ni.jsx)("section",{className:""+(d===E.PICK_PAYMENT_OPTION?Ja:""),children:null!=c&&(0,ni.jsx)(Ko,{})})]})]}),(0,ni.jsxs)("div",{className:Xa,children:[(0,ni.jsx)("div",{className:$a,children:(0,ni.jsx)(Pr,{})}),(0,ni.jsx)(cr,{}),(0,ni.jsx)(wr,{}),(0,ni.jsx)(Or,{}),(0,ni.jsx)(kr,{})]})]})},$o=function(e){var t=e.state;return(0,ni.jsx)(ai,{state:t,children:(0,ni.jsx)(Xo,{})})}},82143:function(e,t,n){n.d(t,{B:function(){return l},Q:function(){return u}});var i=n(87757),a=n.n(i),r=n(56309),s=n.n(r);function o(e,t,n,i,a,r,s){try{var o=e[r](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(i,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(i,a){var r=e.apply(t,n);function s(e){o(r,i,a,s,c,"next",e)}function c(e){o(r,i,a,s,c,"throw",e)}s(void 0)}))}}function l(e){return d.apply(this,arguments)}function d(){return(d=c(a().mark((function e(t){var n,i,r,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("/asset-detail/mosaics/visual-search?assetid="+t.id+"&assettype="+t.assettype,{headers:{Accept:"application/json"}});case 3:return n=e.sent,i=p(n.data.assets,t.id),r=m(i),o=f(r),e.next=9,o;case 9:return c=e.sent.map((function(e,t){return Object.assign({},i[t],{image:e.src})})),e.abrupt("return",{assets:c,totalNumberOfResults:n.data.totalNumberOfResults});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{assets:[],totalNumberOfResults:0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function u(e){return _.apply(this,arguments)}function _(){return(_=c(a().mark((function e(t){var n,i,r,o,c;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s().get("/asset-detail/mosaics/get-stack/"+t.stackId+"?assettype="+t.assettype+"&pagesize="+t.pagesize,{headers:{Accept:"application/json"}});case 3:return n=e.sent,i=p(n.data.assets,t.id),r=m(i),o=f(r),e.next=9,o;case 9:return c=e.sent.slice(0,t.pagesize-1).map((function(e,t){return Object.assign({},i[t],{image:e.src})})),e.abrupt("return",{assets:c,totalNumberOfResults:n.data.totalNumberOfResults});case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",{assets:[],totalNumberOfResults:0});case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}var p=function(e,t){return e.filter((function(e){return e.id!==t}))},m=function(e){return e.map((function(e){return new Promise((function(t){var n=new Image;n.onload=function(){t(n)},n.onerror=function(){t()},n.src=e.thumb612Url||e.thumbUrl}))}))},f=function(e){return Promise.all(e).then((function(e){return e.filter((function(e){return e}))}))}},47914:function(e,t,n){var i=n(14890),a=[n(53894).Z];"undefined"!=typeof window&&window.reduxLogger&&a.push(window.reduxLogger.createLogger({diff:!0,duration:!0,collapsed:!0,stateTransformer:function(e){return e.toJS?e.toJS():e}}));var r="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.qC;t.Z=function(e,t){return void 0===t&&(t={}),(0,i.MT)(e,t,r(i.md.apply(void 0,a)))}},65070:function(e,t,n){function i(e){return e&&function(e){return e instanceof HTMLElement||e instanceof SVGPathElement||e instanceof SVGSVGElement}(e)?""+e.localName+function(e){if(e.id&&""!==e.id)return"#"+e.id;return""}(e)+function(e){var t=e.className;if(t&&""!==t&&t.replace)return"."+t.replace(/\s/g,".");return""}(e):e}n.d(t,{x:function(){return i}})},93646:function(e,t,n){n.d(t,{yE:function(){return i},Np:function(){return a},aV:function(){return r}});var i="browser.web_vitals",a="browser.timing",r="browser.error"},45659:function(e,t,n){n.d(t,{Ky:function(){return o},GN:function(){return c},r$:function(){return l}});var i=n(93646),a=n(65070),r=["controller","action"];var s={istock:"iStock",getty:"Getty Images"};function o(e){u(d(i.yE,e))}function c(e){u(d(i.Np,e))}function l(e){u(d(i.aV,e))}function d(e,t){if(!window||!window.tracking_data||!window.tracking_data.instrumentation_context)return{};var n=window.tracking_data,i=n.instrumentation_context,a=n.pulse_experiences,o=i.controller,c=i.action,l=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(i,r);return l.app_name={"asset-detail":"uni-assetdetail","sign-in":"uni-signin",search:"uni-search",landing:"uni-landing",collaboration:"uni-collaboration",account:"uni-account",purchase:"uni-purchase"}[window.currentApplication],l.site_name=function(){if(window&&window.currentSite){var e=window.currentSite.nickname;return s[e]}return"other"}(),l.build=isNaN(window.pipelineId)?"-1":window.pipelineId,Object.assign({context:Object.assign({},l),event_name:e,controller:o,action:c,experiences:a},t)}function u(e){var t=JSON.stringify(e,(function(e,t){return(0,a.x)(t)}));navigator&&navigator.sendBeacon&&navigator.sendBeacon("/pulse",t)}},96235:function(e,t){t.Z={placeholderHeight:"SameSeriesContainer-module__placeholderHeight___ol7TS"}},60622:function(e,t){t.Z={placeholderHeight:"SimilarImagesContainer-module__placeholderHeight___hOe8U"}},27428:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i,a=n(43393),r=(i=a)&&i.__esModule?i:{default:i},s=n(79607);t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.Map,n=Object.keys(e);return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t(),a=arguments[1];return i.withMutations((function(t){n.forEach((function(n){var i=(0,e[n])(t.get(n),a);(0,s.validateNextState)(i,n,a),t.set(n,i)}))}))}},e.exports=t.default},72739:function(e,t,n){t.U=void 0;var i,a=n(27428),r=(i=a)&&i.__esModule?i:{default:i};t.U=r.default},94528:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e&&"@@redux/INIT"===e.type?"initialState argument passed to createStore":"previous state received by the reducer"},e.exports=t.default},93651:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(43393)),a=r(n(94528));function r(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,n){var r=Object.keys(t);if(!r.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";var s=(0,a.default)(n);if(i.default.isImmutable?!i.default.isImmutable(e):!i.default.Iterable.isIterable(e))return"The "+s+' is of unexpected type. Expected argument to be an instance of Immutable.Collection or Immutable.Record with the following properties: "'+r.join('", "')+'".';var o=e.toSeq().keySeq().toArray().filter((function(e){return!t.hasOwnProperty(e)}));return o.length>0?"Unexpected "+(1===o.length?"property":"properties")+' "'+o.join('", "')+'" found in '+s+'. Expected to find one of the known reducer property names instead: "'+r.join('", "')+'". Unexpected properties will be ignored.':null},e.exports=t.default},79607:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.validateNextState=t.getUnexpectedInvocationParameterMessage=t.getStateName=void 0;var i=s(n(94528)),a=s(n(93651)),r=s(n(85527));function s(e){return e&&e.__esModule?e:{default:e}}t.getStateName=i.default,t.getUnexpectedInvocationParameterMessage=a.default,t.validateNextState=r.default},85527:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(void 0===e)throw new Error('Reducer "'+t+'" returned undefined when handling "'+n.type+'" action. To ignore an action, you must explicitly return the previous state.')},e.exports=t.default}}]);
//# sourceMappingURL=app-root-components-asset-detail-istock-index-63b34bf988c05ecabf09.chunk.js.map